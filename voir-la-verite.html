<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Briser les Pr√©jug√©s</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: none; user-select: none; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f0f4f8, #d6eaf8);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; color: #2c3e50; overflow: hidden; padding: 5px;
        }
        .title {
            font-size: clamp(20px, 5vw, 28px); font-weight: 800; margin-bottom: 8px;
            text-align: center; background: linear-gradient(45deg, #667eea, #ff6b9d);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .quote {
            font-size: clamp(11px, 2.8vw, 14px); font-style: italic; color: #7f8c8d;
            text-align: center; margin-bottom: 10px; max-width: 95vw; line-height: 1.3;
        }
        #gameCanvas {
            border: 3px solid rgba(102,126,234,0.4); border-radius: 20px;
            background: rgba(255,255,255,0.95); max-width: 98vw; max-height: 90vh;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .controls {
            margin-top: 8px; text-align: center; color: #7f8c8d;
            font-size: clamp(10px, 2.5vw, 13px); padding: 6px 12px;
            background: rgba(255,255,255,0.8); border-radius: 12px;
        }
        .message {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.98); padding: 25px 35px; border-radius: 20px;
            font-size: clamp(14px, 3.8vw, 18px); font-weight: 600; color: #2c3e50;
            z-index: 1000; display: none; text-align: center; max-width: 90vw;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15); line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="title">üëÅÔ∏è‚ú® VOIR LA V√âRIT√â ‚ú®üëÅÔ∏è</div>
    <div class="quote">"On m'a dit qu'ils √©taient des monstres... J'ai pr√©f√©r√© voir de mes propres yeux"</div>
    <canvas id="gameCanvas"></canvas>
    <div class="controls">üéÆ Balle zen - D√©couvre la v√©rit√© humaine</div>
    <div id="message" class="message"></div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Configuration √©cran large
        const setupCanvas = () => {
            const w = Math.min(window.innerWidth * 0.96, 500);
            const h = Math.min(window.innerHeight * 0.85, w * 1.3);
            canvas.width = w; canvas.height = h;
            return { w, h };
        };

        let size = setupCanvas();
        const C = {
            W: size.w, H: size.h,
            PW: Math.max(size.w * 0.25, 100), PH: Math.max(size.h * 0.02, 10),
            BS: Math.max(Math.min(size.w, size.h) * 0.035, 12),
            SP: Math.max(Math.min(size.w, size.h) * 0.0015, 1.0) // ULTRA ZEN
        };

        // Ton voyage personnel - 10 √©tapes
        const VOYAGE = [
            { nom: 'ON M\'A DIT...', couleur: '#FFB6C1', msg: 'üó£Ô∏è Les rumeurs s\'effacent devant la v√©rit√© !' },
            { nom: 'DES MONSTRES', couleur: '#87CEEB', msg: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Non... des humains comme nous !' },
            { nom: 'BEAUCOUP MAL', couleur: '#98FB98', msg: 'üëÅÔ∏è J\'ai choisi de voir par moi-m√™me !' },
            { nom: 'MALHEUR', couleur: '#FFCCCB', msg: 'üë® Et j\'ai d√©couvert... un p√®re !' },
            { nom: 'QUI SONT-ILS ?', couleur: '#DDA0DD', msg: 'üë© Une m√®re aimante !' },
            { nom: 'J\'AI VU...', couleur: '#F0E68C', msg: 'üë∂ Des enfants innocents !' },
            { nom: 'UN P√àRE', couleur: '#E6E6FA', msg: 'üå± Qui veulent juste vivre !' },
            { nom: 'UNE M√àRE', couleur: '#FFDAB9', msg: '‚ú® Leur meilleure vie possible !' },
            { nom: 'DES ENFANTS', couleur: '#AFEEEE', msg: 'ü§ù Exactement comme moi !' },
            { nom: 'COMME MOI', couleur: '#F5DEB3', msg: '‚ù§Ô∏è Nous sommes tous pareils !' }
        ];

        // Variables de jeu
        let score = 0, vies = 3, brises = 0, jeu = false, tactile = false;
        let raquette = {}, balle = {}, briques = [], particules = [];

        // Initialisation
        function initJeu() {
            raquette = { x: C.W/2 - C.PW/2, y: C.H - C.PH - 25 };
            balle = {
                x: C.W/2, y: raquette.y - C.BS - 12,
                dx: C.SP * (Math.random() > 0.5 ? 1 : -1), dy: -C.SP
            };

            briques = [];
            const larg = (C.W - 50) / 2;
            const haut = Math.max(C.H * 0.04, 22);

            for(let r = 0; r < 5; r++) {
                for(let c = 0; c < 2; c++) {
                    const i = r * 2 + c;
                    if(i < VOYAGE.length) {
                        briques.push({
                            x: 25 + c * (larg + 25),
                            y: 70 + r * (haut + 3),
                            w: larg, h: haut,
                            visible: true,
                            etape: VOYAGE[i]
                        });
                    }
                }
            }
            particules = [];
        }

        // Interface int√©gr√©e dans le jeu
        function dessinerInterface() {
            ctx.save();

            // Zone info en haut (60px)
            const zone = 60;
            const grad = ctx.createLinearGradient(0, 0, 0, zone);
            grad.addColorStop(0, 'rgba(255,255,255,0.95)');
            grad.addColorStop(1, 'rgba(255,255,255,0.8)');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, C.W, zone);

            // Bordure √©l√©gante
            ctx.strokeStyle = 'rgba(102,126,234,0.3)';
            ctx.lineWidth = 2;
            ctx.strokeRect(0, 0, C.W, zone);

            // Titre du jeu
            ctx.fillStyle = '#2c3e50';
            ctx.font = `700 ${Math.max(C.H * 0.022, 12)}px sans-serif`;
            ctx.textAlign = 'center';
            ctx.fillText('üëÅÔ∏è VOIR LA V√âRIT√â üëÅÔ∏è', C.W/2, 18);

            // Stats ligne 2
            ctx.font = `600 ${Math.max(C.H * 0.018, 10)}px sans-serif`;

            // Score √† gauche
            ctx.textAlign = 'left';
            ctx.fillText(`üïäÔ∏è Score: ${score}`, 15, 35);

            // Progression au centre
            ctx.textAlign = 'center';
            ctx.fillText(`üß± V√©rit√©s: ${brises}/${VOYAGE.length}`, C.W/2, 35);

            // Vies √† droite
            ctx.textAlign = 'right';
            const coeurs = vies > 0 ? '‚ù§Ô∏è'.repeat(vies) : 'üíî';
            ctx.fillText(`${coeurs}`, C.W - 15, 35);

            // Message inspirant
            ctx.fillStyle = '#7f8c8d';
            ctx.font = `italic ${Math.max(C.H * 0.014, 9)}px sans-serif`;
            ctx.textAlign = 'center';
            ctx.fillText('"J\'ai pr√©f√©r√© voir de mes propres yeux"', C.W/2, 52);

            ctx.restore();
        }

        // Bulle d'√¢me avec c≈ìur
        function dessinerBulle() {
            ctx.save();

            // Ombre
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.beginPath();
            ctx.arc(balle.x + 2, balle.y + 2, C.BS, 0, Math.PI * 2);
            ctx.fill();

            // Bulle transparente
            const bulleGrad = ctx.createRadialGradient(
                balle.x - C.BS*0.3, balle.y - C.BS*0.3, 0,
                balle.x, balle.y, C.BS
            );
            bulleGrad.addColorStop(0, 'rgba(255,255,255,0.9)');
            bulleGrad.addColorStop(0.7, 'rgba(174,214,241,0.7)');
            bulleGrad.addColorStop(1, 'rgba(52,152,219,0.8)');

            ctx.fillStyle = bulleGrad;
            ctx.beginPath();
            ctx.arc(balle.x, balle.y, C.BS, 0, Math.PI * 2);
            ctx.fill();

            // Bordure bulle
            ctx.strokeStyle = 'rgba(52,152,219,0.6)';
            ctx.lineWidth = 1.5;
            ctx.stroke();

            // Reflets
            ctx.fillStyle = 'rgba(255,255,255,0.8)';
            ctx.beginPath();
            ctx.arc(balle.x - C.BS*0.25, balle.y - C.BS*0.25, C.BS*0.3, 0, Math.PI * 2);
            ctx.fill();

            // C≈ìur d'humanit√© au centre
            const taille = C.BS * 0.6;
            ctx.fillStyle = '#e74c3c';
            ctx.beginPath();
            ctx.moveTo(balle.x, balle.y + taille*0.3);
            ctx.bezierCurveTo(balle.x, balle.y, balle.x - taille*0.5, balle.y, balle.x - taille*0.5, balle.y + taille*0.3);
            ctx.bezierCurveTo(balle.x - taille*0.5, balle.y + taille*0.7, balle.x, balle.y + taille*0.7, balle.x, balle.y + taille);
            ctx.bezierCurveTo(balle.x, balle.y + taille*0.7, balle.x + taille*0.5, balle.y + taille*0.7, balle.x + taille*0.5, balle.y + taille*0.3);
            ctx.bezierCurveTo(balle.x + taille*0.5, balle.y, balle.x, balle.y, balle.x, balle.y + taille*0.3);
            ctx.fill();

            ctx.restore();
        }

        // Pont d'accueil
        function dessinerPont() {
            ctx.save();

            // Ombre du pont
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.fillRect(raquette.x + 3, raquette.y + 3, C.PW, C.PH);

            // Pont principal
            const pontGrad = ctx.createLinearGradient(raquette.x, raquette.y, raquette.x, raquette.y + C.PH);
            pontGrad.addColorStop(0, '#27ae60');
            pontGrad.addColorStop(0.5, '#2ecc71');
            pontGrad.addColorStop(1, '#229954');

            ctx.fillStyle = pontGrad;
            ctx.fillRect(raquette.x, raquette.y, C.PW, C.PH);

            // Arches d'hospitalit√©
            const nbArches = 4;
            const largArche = C.PW / nbArches;

            ctx.strokeStyle = 'rgba(255,255,255,0.9)';
            ctx.lineWidth = 2;
            for(let i = 0; i < nbArches; i++) {
                const x = raquette.x + i * largArche + largArche * 0.1;
                const w = largArche * 0.8;
                ctx.beginPath();
                ctx.arc(x + w/2, raquette.y + C.PH, w/2, Math.PI, 0);
                ctx.stroke();
            }

            // Reflet
            const refletGrad = ctx.createLinearGradient(raquette.x, raquette.y, raquette.x, raquette.y + C.PH*0.4);
            refletGrad.addColorStop(0, 'rgba(255,255,255,0.6)');
            refletGrad.addColorStop(1, 'rgba(255,255,255,0)');
            ctx.fillStyle = refletGrad;
            ctx.fillRect(raquette.x, raquette.y, C.PW, C.PH*0.4);

            ctx.restore();
        }

        // Pr√©jug√©s √† briser
        function dessinerPrejuges() {
            briques.forEach(brique => {
                if(!brique.visible) return;

                ctx.save();

                // Ombre
                ctx.fillStyle = 'rgba(0,0,0,0.06)';
                ctx.fillRect(brique.x + 2, brique.y + 2, brique.w, brique.h);

                // Gradient de pr√©jug√©
                const grad = ctx.createLinearGradient(brique.x, brique.y, brique.x, brique.y + brique.h);
                grad.addColorStop(0, brique.etape.couleur);
                grad.addColorStop(0.5, brique.etape.couleur);
                grad.addColorStop(1, brique.etape.couleur);

                ctx.fillStyle = grad;
                ctx.fillRect(brique.x, brique.y, brique.w, brique.h);

                // Reflet
                const refletGrad = ctx.createLinearGradient(brique.x, brique.y, brique.x, brique.y + brique.h*0.3);
                refletGrad.addColorStop(0, 'rgba(255,255,255,0.4)');
                refletGrad.addColorStop(1, 'rgba(255,255,255,0)');
                ctx.fillStyle = refletGrad;
                ctx.fillRect(brique.x, brique.y, brique.w, brique.h*0.3);

                // Bordure
                ctx.strokeStyle = 'rgba(255,255,255,0.7)';
                ctx.lineWidth = 1;
                ctx.strokeRect(brique.x, brique.y, brique.w, brique.h);

                // Texte du pr√©jug√©
                ctx.fillStyle = '#2c3e50';
                ctx.font = `600 ${Math.max(brique.h * 0.22, 8)}px sans-serif`;
                ctx.textAlign = 'center';
                ctx.shadowColor = 'rgba(255,255,255,0.8)';
                ctx.shadowBlur = 1;
                ctx.fillText(brique.etape.nom, brique.x + brique.w/2, brique.y + brique.h/2 + 3);
                ctx.shadowBlur = 0;

                ctx.restore();
            });
        }

        // Particules d'espoir
        function ajouterParticules(x, y, couleur, nombre = 8) {
            for(let i = 0; i < nombre; i++) {
                particules.push({
                    x, y,
                    vx: (Math.random() - 0.5) * 6,
                    vy: (Math.random() - 0.5) * 6,
                    couleur, vie: 1,
                    taille: Math.random() * 3 + 1
                });
            }
        }

        function mettreAJourParticules() {
            for(let i = particules.length - 1; i >= 0; i--) {
                const p = particules[i];
                p.x += p.vx; p.y += p.vy; p.vy += 0.1; p.vie -= 0.015;
                if(p.vie <= 0) particules.splice(i, 1);
            }
        }

        function dessinerParticules() {
            particules.forEach(p => {
                ctx.save();
                ctx.globalAlpha = p.vie * 0.8;
                ctx.fillStyle = p.couleur;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.taille, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            });
        }

        // Physique ultra-zen de la bulle
        function mettreAJourBulle() {
            balle.x += balle.dx;
            balle.y += balle.dy;

            // Rebonds doux
            if(balle.x <= C.BS || balle.x >= C.W - C.BS) {
                balle.dx = -balle.dx * 0.95;
                ajouterParticules(balle.x, balle.y, '#74b9ff', 5);
            }

            if(balle.y <= C.BS) {
                balle.dy = -balle.dy * 0.95;
                ajouterParticules(balle.x, balle.y, '#74b9ff', 5);
            }

            // Perte de v√©rit√©
            if(balle.y >= C.H) {
                perdreVie();
                return;
            }

            // Rencontre avec le pont d'accueil
            if(balle.y + C.BS >= raquette.y && balle.y - C.BS <= raquette.y + C.PH &&
               balle.x + C.BS >= raquette.x && balle.x - C.BS <= raquette.x + C.PW) {

                balle.dy = -Math.abs(balle.dy) * 0.98;
                let position = (balle.x - (raquette.x + C.PW/2)) / (C.PW/2);
                balle.dx = C.SP * position * 0.7;

                ajouterParticules(balle.x, balle.y, '#e74c3c', 8);
                ajouterParticules(balle.x, balle.y, '#27ae60', 6);
            }

            // Briser les pr√©jug√©s
            briques.forEach(brique => {
                if(!brique.visible) return;

                if(balle.x + C.BS >= brique.x && balle.x - C.BS <= brique.x + brique.w &&
                   balle.y + C.BS >= brique.y && balle.y - C.BS <= brique.y + brique.h) {

                    brique.visible = false;
                    balle.dy = -balle.dy;

                    score += 100;
                    brises++;

                    ajouterParticules(brique.x + brique.w/2, brique.y + brique.h/2, brique.etape.couleur, 12);
                    afficherMessage(brique.etape.msg, 3500);

                    if(brises >= VOYAGE.length) {
                        veriteLiberee();
                    }
                }
            });
        }

        // √âv√©nements de vie
        function perdreVie() {
            vies--;
            if(vies <= 0) {
                finDuVoyage();
                return;
            }

            balle.x = C.W/2;
            balle.y = raquette.y - C.BS - 12;
            balle.dx = C.SP * (Math.random() > 0.5 ? 1 : -1);
            balle.dy = -C.SP;

            afficherMessage('üíî Les mensonges r√©sistent ! Continue √† chercher la v√©rit√© ! üëÅÔ∏è', 3000);
        }

        function finDuVoyage() {
            jeu = false;
            afficherMessage('üò¢ Le voyage vers la v√©rit√© continue...<br><br>üí™ "La v√©rit√© finit toujours par triompher !"<br><br>‚ú® Touchez pour recommencer ‚ú®', 0);
        }

        function veriteLiberee() {
            jeu = false;
            ajouterParticules(C.W/2, C.H/2, '#FFD700', 25);
            afficherMessage('üéâ‚ú® V√âRIT√â LIB√âR√âE ! ‚ú®üéâ<br><br>üëÅÔ∏è Tu as vu de tes propres yeux !<br>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Un p√®re, une m√®re, des enfants<br>‚ù§Ô∏è Qui veulent juste vivre comme toi !<br><br>üåç "Nous sommes tous pareils !"<br><br>üëÜ Touchez pour partager cette v√©rit√©', 0);
        }

        function recommencer() {
            score = 0; vies = 3; brises = 0; jeu = true;
            initJeu(); cacherMessage();
        }

        function afficherMessage(texte, duree) {
            const msg = document.getElementById('message');
            msg.innerHTML = texte;
            msg.style.display = 'block';
            if(duree > 0) setTimeout(() => msg.style.display = 'none', duree);
        }

        function cacherMessage() {
            document.getElementById('message').style.display = 'none';
        }

        // Rendu principal
        function dessiner() {
            // Fond
            const grad = ctx.createLinearGradient(0, 0, 0, C.H);
            grad.addColorStop(0, 'rgba(248,250,255,0.98)');
            grad.addColorStop(1, 'rgba(240,248,255,0.98)');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, C.W, C.H);

            dessinerInterface();
            dessinerPrejuges();
            dessinerPont();
            dessinerBulle();
            dessinerParticules();
        }

        // Contr√¥les tactiles
        function obtenirTouche(e) {
            const rect = canvas.getBoundingClientRect();
            const touch = e.touches ? e.touches[0] : e;
            return { x: touch.clientX - rect.left };
        }

        canvas.addEventListener('touchstart', e => {
            e.preventDefault(); tactile = true;
            if(!jeu) { recommencer(); return; }
            const pos = obtenirTouche(e);
            raquette.x = pos.x - C.PW/2;
            raquette.x = Math.max(0, Math.min(raquette.x, C.W - C.PW));
        });

        canvas.addEventListener('touchmove', e => {
            e.preventDefault();
            if(!jeu || !tactile) return;
            const pos = obtenirTouche(e);
            raquette.x = pos.x - C.PW/2;
            raquette.x = Math.max(0, Math.min(raquette.x, C.W - C.PW));
        });

        canvas.addEventListener('touchend', e => {
            e.preventDefault(); tactile = false;
        });

        canvas.addEventListener('mousemove', e => {
            if(!jeu) return;
            const rect = canvas.getBoundingClientRect();
            raquette.x = (e.clientX - rect.left) - C.PW/2;
            raquette.x = Math.max(0, Math.min(raquette.x, C.W - C.PW));
        });

        canvas.addEventListener('click', () => {
            if(!jeu) recommencer();
        });

        // Redimensionnement
        window.addEventListener('resize', () => {
            size = setupCanvas();
            if(!jeu) initJeu();
        });

        // Boucle principale
        function boucleJeu() {
            if(jeu) {
                mettreAJourBulle();
                mettreAJourParticules();
            }
            dessiner();
            requestAnimationFrame(boucleJeu);
        }

        // D√©marrage
        initJeu();
        afficherMessage('üëÅÔ∏è‚ú® VOIR LA V√âRIT√â ‚ú®üëÅÔ∏è<br><br>üí≠ "On m\'a dit qu\'ils √©taient des monstres..."<br>üëÄ "J\'ai pr√©f√©r√© voir de mes propres yeux"<br>‚ù§Ô∏è "Et j\'ai d√©couvert... comme moi..."<br><br>üéÆ Brise les pr√©jug√©s un par un !<br><br>üëÜ Touchez pour d√©couvrir la v√©rit√© humaine !', 0);
        boucleJeu();
    </script>
</body>
</html>