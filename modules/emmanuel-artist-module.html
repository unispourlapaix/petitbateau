<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title id="page-title">Emmanuel Payet - Artiste Chr√©tien</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            min-height: -webkit-fill-available;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .module-container {
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 1400px;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .module-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            animation: rainbow 3s linear infinite;
        }

        @keyframes rainbow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .main-title {
            font-size: 2.5em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2em;
            color: #7f8c8d;
            font-weight: 300;
        }

        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .platform-card {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .platform-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .platform-card:hover::before {
            transform: translateX(100%);
        }

        .platform-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border-color: #3498db;
        }

        .platform-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            font-weight: bold;
        }

        .gallery-icon { background: linear-gradient(45deg, #e74c3c, #c0392b); }
        .art-icon { background: linear-gradient(45deg, #9b59b6, #8e44ad); }
        .music-icon { background: linear-gradient(45deg, #3498db, #2980b9); }
        .shop-icon { background: linear-gradient(45deg, #f39c12, #e67e22); }

        .platform-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .platform-description {
            color: #7f8c8d;
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .platform-url {
            font-weight: 600;
            color: #3498db;
            text-decoration: none;
            font-size: 0.9em;
            padding: 8px 16px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 20px;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .platform-url:hover {
            background: #3498db;
            color: white;
            transform: scale(1.05);
        }



        .inspiring-quote {
            margin-top: 40px;
            padding: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            text-align: center;
            color: white;
            font-style: italic;
            font-size: 1.1em;
            position: relative;
        }

        .inspiring-quote::before {
            content: '"';
            font-size: 4em;
            position: absolute;
            top: -10px;
            left: 20px;
            opacity: 0.3;
        }

        .inspiring-quote::after {
            content: '"';
            font-size: 4em;
            position: absolute;
            bottom: -40px;
            right: 20px;
            opacity: 0.3;
        }

        @media (max-width: 768px) {
            .module-container {
                padding: 25px;
            }
            
            .main-title {
                font-size: 2em;
            }
            
            .platforms-grid {
                grid-template-columns: 1fr;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Styles pour le Top 10000 */
        .leaderboard-section {
            margin: 30px 0 40px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .leaderboard-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .leaderboard-title {
            font-size: 2em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .leaderboard-subtitle {
            color: #7f8c8d;
            font-size: 1em;
        }

        .leaderboard-stats {
            display: flex;
            justify-content: center;
            gap: 0;
            margin-bottom: 20px;
            flex-wrap: nowrap;
        }

        .stat-box {
            background: white;
            padding: 15px 30px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            flex: 0 0 auto;
            min-width: auto;
            display: flex;
            flex-direction: row;
            gap: 8px;
            align-items: center;
        }

        .stat-divider {
            width: 2px;
            height: 30px;
            background: #e0e0e0;
            margin: 0 15px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #3498db;
            display: inline-block;
        }

        .stat-label {
            font-size: 2em;
            margin: 0;
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .leaderboard-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }

        .table-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            display: grid;
            grid-template-columns: 60px 60px 1fr 180px 120px;
            gap: 15px;
            font-weight: 600;
            font-size: 13px;
        }

        .table-row {
            display: grid;
            grid-template-columns: 60px 60px 1fr 180px 120px;
            gap: 15px;
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            align-items: center;
            transition: all 0.2s ease;
        }

        .table-row:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .table-row.top-3 {
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 255, 255, 0) 100%);
            font-weight: 600;
        }

        .rank {
            font-size: 16px;
            font-weight: bold;
            color: #667eea;
        }

        .rank.medal {
            font-size: 22px;
        }

        .avatar {
            font-size: 24px;
            text-align: center;
        }

        .player-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .player-level {
            font-size: 11px;
            color: #7f8c8d;
            margin-top: 3px;
        }

        .badges {
            display: flex;
            gap: 5px;
            font-size: 14px;
        }

        .score-value {
            font-size: 18px;
            font-weight: bold;
            color: #3b82f6;
            text-align: right;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .page-btn {
            padding: 8px 12px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #2c3e50;
            transition: all 0.3s ease;
        }

        .page-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .page-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .load-more-btn {
            display: block;
            margin: 0 auto;
            padding: 15px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .load-more-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .load-more-btn:disabled {
            opacity: 0.6;
            cursor: wait;
            transform: none;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            font-size: 1.1em;
        }

        /* üì± OPTIMISATIONS MOBILE - R√©solution adaptative */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .module-container {
                padding: 20px 15px;
                border-radius: 15px;
            }

            .header {
                margin-bottom: 25px;
            }

            .main-title {
                font-size: 1.8em;
            }

            .subtitle {
                font-size: 1em;
            }

            .platforms-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .platform-card {
                padding: 20px;
            }

            .platform-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5em;
                margin-bottom: 15px;
            }

            .platform-title {
                font-size: 1.2em;
            }

            .platform-description {
                font-size: 0.85em;
                line-height: 1.5;
            }

            .inspiring-quote {
                font-size: 0.95em;
                padding: 20px;
                margin-top: 25px;
            }

            .inspiring-quote::before,
            .inspiring-quote::after {
                font-size: 3em;
            }

            /* Leaderboard mobile */
            .leaderboard-section {
                padding: 15px 10px;
                margin: 20px 0 30px 0;
            }

            .leaderboard-title {
                font-size: 1.4em;
            }

            .leaderboard-subtitle {
                font-size: 0.85em;
            }

            .leaderboard-stats {
                flex-direction: row;
                gap: 0;
            }

            .stat-box {
                padding: 10px 15px;
                gap: 5px;
            }

            .stat-value {
                font-size: 1.3em;
            }

            .stat-label {
                font-size: 1.5em;
            }

            .stat-divider {
                height: 20px;
                margin: 0 10px;
            }

            .search-box {
                padding: 10px 15px;
                font-size: 12px;
            }

            .table-header,
            .table-row {
                grid-template-columns: 40px 40px 1fr 70px;
                gap: 5px;
                font-size: 10px;
                padding: 8px 10px;
            }

            .player-level,
            .badges {
                display: none !important;
            }

            .player-name {
                font-size: 11px;
            }

            .avatar {
                font-size: 18px;
            }

            .rank {
                font-size: 13px;
            }

            .rank.medal {
                font-size: 18px;
            }

            .score-value {
                font-size: 13px;
            }

            .pagination {
                gap: 4px;
            }

            .page-btn {
                padding: 5px 8px;
                font-size: 11px;
            }

            .load-more-btn {
                padding: 12px 30px;
                font-size: 14px;
            }
        }

        /* üì± EXTRA PETITS √âCRANS (iPhone SE, etc.) */
        @media (max-width: 380px) {
            .module-container {
                padding: 15px 10px;
            }

            .main-title {
                font-size: 1.5em;
            }

            .subtitle {
                font-size: 0.9em;
            }

            .platform-card {
                padding: 15px;
            }

            .platform-icon {
                width: 50px;
                height: 50px;
                font-size: 1.3em;
            }

            .platform-title {
                font-size: 1.1em;
            }

            .platform-description {
                font-size: 0.8em;
            }

            .platform-url {
                font-size: 0.8em;
                padding: 6px 12px;
            }

            .leaderboard-title {
                font-size: 1.2em;
            }

            .table-header,
            .table-row {
                padding: 6px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="module-container">
        <div class="header">
            <h1 class="main-title pulse" id="main-title">Emmanuel Payet</h1>
            <p class="subtitle" id="subtitle">Artiste Chr√©tien ‚Ä¢ Cr√©ateur ‚Ä¢ Inspirateur</p>
        </div>

        <!-- Section Top 10000 -->
        <div class="leaderboard-section">
            <div class="leaderboard-header">
                <h2 class="leaderboard-title">üèÜ Top 33 Millions Mondial</h2>
                <p class="leaderboard-subtitle">Classement des meilleurs joueurs de Petit Bateau Rouge</p>
            </div>

            <div class="leaderboard-stats">
                <div class="stat-box">
                    <span class="stat-label">üë•</span>
                    <span class="stat-value" id="totalPlayers">-</span>
                    <div class="stat-divider"></div>
                    <span class="stat-label">üèÜ</span>
                    <span class="stat-value" id="topScore">-</span>
                </div>
            </div>

            <input type="text" id="searchInput" class="search-box" placeholder="üîç Rechercher un joueur...">

            <div class="leaderboard-table">
                <div class="table-header">
                    <div>Rang</div>
                    <div>Avatar</div>
                    <div>Joueur</div>
                    <div>Niveau</div>
                    <div>Score</div>
                </div>
                <div id="leaderboardContent">
                    <div class="loading">‚è≥ Chargement des scores...</div>
                </div>
            </div>

            <div id="loadMoreContainer" style="margin: 20px 0;"></div>
            <div class="pagination" id="pagination"></div>
        </div>

        <div class="platforms-grid">
            <div class="platform-card">
                <div class="platform-icon gallery-icon">‚óÜ</div>
                <h3 class="platform-title" id="games-title">Jeux & D√©co</h3>
                <p class="platform-description" id="games-desc">D√©couvre mes cr√©ations visuelles, jeux interactifs et d√©corations artistiques qui c√©l√®brent la foi et la beaut√©.</p>
                <a href="https://emmanuel.gallery" class="platform-url" target="_blank">emmanuel.gallery</a>
            </div>

            <div class="platform-card">
                <div class="platform-icon art-icon">‚ñ≤</div>
                <h3 class="platform-title" id="books-title">Livres & Art</h3>
                <p class="platform-description" id="books-desc">Plonge dans mes ≈ìuvres litt√©raires et artistiques, cr√©√©es avec ma fille B√©thanie, pour nourrir l'√¢me et l'esprit.</p>
                <a href="https://emmanuelpayet.art" class="platform-url" target="_blank">emmanuelpayet.art</a>
            </div>

            <div class="platform-card">
                <div class="platform-icon music-icon">‚óè</div>
                <h3 class="platform-title" id="music-title">Gospel Gratuit</h3>
                <p class="platform-description" id="music-desc">√âcoute mes compositions gospel sur AudioMack, des m√©lodies qui louent Dieu et inspirent l'unit√© dans la diversit√©.</p>
                <a href="https://audiomack.com/emmanuelpayet888" class="platform-url" target="_blank">AudioMack - emmanuelpayet888</a>
            </div>

            <div class="platform-card">
                <div class="platform-icon shop-icon">‚ñ†</div>
                <h3 class="platform-title" id="shop-title">La Bonne Heure</h3>
                <p class="platform-description" id="shop-desc">C'est maintenant ! D√©couvre ma boutique Redbubble avec des designs uniques et des cr√©ations inspirantes √† porter.</p>
                <a href="https://www.redbubble.com/fr/people/h777plx/shop" class="platform-url" target="_blank">Redbubble Shop</a>
            </div>
        </div>

        <div class="inspiring-quote" id="inspiring-quote">
            L'art chr√©tien unit les c≈ìurs au-del√† des diff√©rences, c√©l√©brant la beaut√© de la cr√©ation divine dans toute sa diversit√©.
        </div>
        
        <div style="text-align: center; margin-top: 20px; font-size: 0.8em; color: #95a5a6; font-style: italic;" id="credits">
            Cod√© par Claude ‚Ä¢ Id√©e originale Emmanuel Payet
        </div>
    </div>

    <script type="module">
        // Configuration Supabase - UTILISER LE M√äME QUE LE JEU
        const SUPABASE_URL = 'https://dmszyxowetilvsanqsxm.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtc3p5eG93ZXRpbHZzYW5xc3htIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NzM0NDUsImV4cCI6MjA3NTM0OTQ0NX0.EukDYFVt0sCrDb0_V4ZPMv5B4gkD43V8Cw7CEuvl0C8';
        
        // Import Supabase (optionnel - fallback sur scores locaux si √©chec)
        let supabase = null;
        
        try {
            const { createClient } = await import('https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm');
            supabase = createClient(SUPABASE_URL, SUPABASE_KEY);
            console.log('‚úÖ Supabase charg√© avec succ√®s');
        } catch (error) {
            console.warn('‚ö†Ô∏è Supabase non disponible, utilisation scores locaux uniquement:', error);
            supabase = null;
        }

        let currentPage = 1;
        const perPage = 100;
        let totalScores = 0;
        let allScores = [];
        let loadedCount = 0;
        const initialLoad = 100;
        const loadMoreIncrement = 200;

        // Niveaux de sagesse
        const niveauxSagesse = [
            { min: 0, max: 99, titre: 'D√©butant', icone: 'üå±' },
            { min: 100, max: 299, titre: 'Apprenti', icone: 'üåø' },
            { min: 300, max: 599, titre: 'Adepte', icone: 'üçÄ' },
            { min: 600, max: 999, titre: 'Sage', icone: '‚ú®' },
            { min: 1000, max: 1499, titre: 'Ma√Ætre', icone: 'üåü' },
            { min: 1500, max: 2099, titre: '√âveill√©', icone: 'üí´' },
            { min: 2100, max: 9999, titre: 'Illumin√©', icone: 'üîÆ' }
        ];

        function getNiveauSagesse(sagesse) {
            return niveauxSagesse.find(n => sagesse >= n.min && sagesse <= n.max) || niveauxSagesse[0];
        }

        function getBadges(donnees, isFirst, enigmes) {
            const badges = [];
            if (isFirst) badges.push('üëë');
            if (enigmes >= 18) badges.push('üéì');
            if (donnees.niveau_atteint >= 23) badges.push('üèÅ');
            return badges;
        }

        async function loadScores() {
            try {
                document.getElementById('leaderboardContent').innerHTML = '<div class="loading">‚è≥ Connexion √† Supabase...</div>';
                console.log('üì° Tentative de connexion Supabase:', SUPABASE_URL);

                // Charger seulement les 100 premiers au d√©part
                // ‚ö†Ô∏è ON NE FILTRE PAS PAR GAME_ID - PRENDRE TOUS LES SCORES
                const { data, error, count } = await supabase
                    .from('scores')
                    .select(`
                        score,
                        niveau_atteint,
                        temps_jeu,
                        created_at,
                        donnees_extra,
                        game_id,
                        users (pseudo, avatar, pays)
                    `, { count: 'exact' })
                    .order('score', { ascending: false })
                    .range(0, initialLoad - 1);

                if (error) {
                    console.error('‚ùå Erreur Supabase:', error);
                    throw error;
                }

                console.log('‚úÖ Donn√©es Supabase re√ßues:', data?.length || 0, 'records');
                console.log('üìä Total count:', count);
                console.log('üéÆ Jeux trouv√©s:', [...new Set(data?.map(s => s.game_id) || [])]);

                allScores = Array.isArray(data) ? data : [];
                
                // üíæ AJOUTER LES SCORES LOCAUX
                const localScores = getLocalScores();
                console.log('üíæ Scores locaux trouv√©s:', localScores.length);
                allScores = [...allScores, ...localScores];
                
                // Trier par score d√©croissant
                allScores.sort((a, b) => b.score - a.score);
                
                loadedCount = allScores.length;
                totalScores = count || 0;

                // Si pas de donn√©es, utiliser des donn√©es de test
                if (allScores.length === 0) {
                    console.warn('‚ö†Ô∏è Aucune donn√©e trouv√©e, cr√©ation de donn√©es de test...');
                    allScores = createTestScores();
                    loadedCount = allScores.length;
                    totalScores = allScores.length;
                }

                console.log('‚úÖ Scores charg√©s (Supabase + Local):', loadedCount, 'Total DB:', totalScores);
                console.log('üèÜ Top 3:', allScores.slice(0, 3).map(s => ({ 
                    pseudo: s.users?.pseudo || s.user?.pseudo || s.donnees_extra?.pseudo, 
                    score: s.score,
                    game: s.game_id,
                    local: s._isLocal || false
                })));

                updateStats();
                renderPage();
            } catch (error) {
                console.error('‚ùå Erreur compl√®te:', error);
                console.log('üìå Tentative de chargement scores locaux uniquement...');
                
                // üíæ FALLBACK: Utiliser scores locaux + test
                const localScores = getLocalScores();
                const testScores = createTestScores();
                allScores = [...localScores, ...testScores];
                allScores.sort((a, b) => b.score - a.score);
                
                loadedCount = allScores.length;
                totalScores = allScores.length;
                
                console.log('üíæ Mode hors ligne:', loadedCount, 'scores (local + test)');
                updateStats();
                renderPage();
            }
        }

        // üíæ R√©cup√©rer les scores localStorage
        function getLocalScores() {
            try {
                const data = localStorage.getItem('petit_bateau_local_scores');
                if (!data) return [];
                
                const scores = JSON.parse(data);
                return scores.map(s => ({
                    score: s.score,
                    niveau_atteint: s.niveau_atteint,
                    temps_jeu: s.temps_jeu,
                    created_at: s.created_at,
                    donnees_extra: s.donnees_extra,
                    game_id: s.game_id,
                    users: {
                        pseudo: s.user?.pseudo || 'Anonyme',
                        avatar: s.user?.avatar || 'üë§',
                        pays: s.user?.pays || null
                    },
                    _isLocal: true
                }));
            } catch (e) {
                console.error('‚ùå Erreur lecture localStorage:', e);
                return [];
            }
        }

        function createTestScores() {
            const pseudos = ['Alice', 'Bob', 'Charlie', 'Diana', 'Emma', 'Frank', 'Grace', 'Henry', 'Iris', 'Jack'];
            const avatars = ['üë®‚Äçüé®', 'üë©‚Äçüé®', 'üßô', 'üé≠', 'üé™', 'üé®', 'üé¨', 'üé∏', 'üéπ', 'üé∫'];
            const niveaux = [2100, 1800, 1500, 1200, 900, 600, 300, 100, 50, 25];
            
            // üéØ IMPORTANT: Scores de test PLUS BAS que Marie (~160000)
            // Commencer √† 150000 et descendre progressivement
            const maxTestScore = 150000;
            
            const testScores = [];
            for (let i = 0; i < 50; i++) {
                const pseudoIdx = i % pseudos.length;
                // Score d√©croissant: 150000, 149500, 149000, etc.
                const score = maxTestScore - (i * 500);
                
                testScores.push({
                    id: `test-${i}`,
                    score: score,
                    donnees_extra: {
                        pseudo: pseudos[pseudoIdx] + (i > 9 ? ` #${Math.floor(i / 10)}` : ''),
                        avatar: avatars[pseudoIdx],
                        sagesse: niveaux[pseudoIdx % niveaux.length],
                        enigmes: Math.floor(Math.random() * 18),
                        niveau_atteint: Math.floor(Math.random() * 23)
                    },
                    users: {
                        pseudo: pseudos[pseudoIdx] + (i > 9 ? ` #${Math.floor(i / 10)}` : ''),
                        avatar: avatars[pseudoIdx]
                    },
                    created_at: new Date(Date.now() - i * 86400000).toISOString()
                });
            }
            console.log('üß™ Donn√©es de test cr√©√©es:', testScores.length, 'scores (max:', maxTestScore, ')');
            console.log('üìù Les scores de test sont en secours si Supabase est vide');
            return testScores;
        }

        async function loadMoreScores() {
            try {
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                if (loadMoreBtn) {
                    loadMoreBtn.disabled = true;
                    loadMoreBtn.innerHTML = '‚è≥ Chargement...';
                }

                const start = loadedCount;
                const end = Math.min(loadedCount + loadMoreIncrement - 1, totalScores - 1);

                const { data, error } = await supabase
                    .from('scores')
                    .select(`
                        score,
                        niveau_atteint,
                        temps_jeu,
                        created_at,
                        donnees_extra,
                        game_id,
                        users (pseudo, avatar, pays)
                    `)
                    .order('score', { ascending: false })
                    .range(start, end);

                if (error) throw error;

                const newData = Array.isArray(data) ? data : [];
                allScores = [...allScores, ...newData];
                loadedCount = allScores.length;

                console.log('‚úÖ Chargement progressif:', loadedCount, 'scores');
                renderPage();
            } catch (error) {
                console.error('Erreur chargement suppl√©mentaire:', error);
                alert('‚ùå Erreur lors du chargement: ' + error.message);
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                if (loadMoreBtn) {
                    loadMoreBtn.disabled = false;
                    loadMoreBtn.innerHTML = 'üì• Charger plus...';
                }
            }
        }

        function updateStats() {
            document.getElementById('totalPlayers').textContent = totalScores.toLocaleString();
            
            if (allScores.length > 0) {
                const topScore = allScores[0].score;
                
                document.getElementById('topScore').textContent = topScore.toLocaleString();
            }
        }

        function renderPage() {
            const start = (currentPage - 1) * perPage;
            const end = start + perPage;
            
            if (!Array.isArray(allScores)) {
                document.getElementById('leaderboardContent').innerHTML = '<div class="loading" style="color: #e74c3c;">‚ùå Erreur: donn√©es corrompues</div>';
                return;
            }
            
            const pageScores = allScores.slice(start, end);

            let html = '';
            pageScores.forEach((entry, index) => {
                const globalRank = start + index + 1;
                const donnees = entry.donnees_extra || {};
                const pseudo = entry.users?.pseudo || donnees.pseudo || 'Anonyme';
                const avatar = entry.users?.avatar || donnees.avatar || 'üë§';
                
                let medal = `${globalRank}.`;
                let rankClass = '';
                
                if (globalRank === 1) {
                    medal = 'ü•á';
                    rankClass = 'medal';
                } else if (globalRank === 2) {
                    medal = 'ü•à';
                    rankClass = 'medal';
                } else if (globalRank === 3) {
                    medal = 'ü•â';
                    rankClass = 'medal';
                }

                const rowClass = globalRank <= 3 ? 'table-row top-3' : 'table-row';

                let levelInfo = '';
                if (donnees.sagesse) {
                    const niveau = getNiveauSagesse(donnees.sagesse);
                    const enigmesInfo = donnees.enigmes ? ` ‚Ä¢ ${donnees.enigmes}/18üß©` : '';
                    levelInfo = `
                        <div class="player-name">${pseudo}</div>
                        <div class="player-level">${niveau.icone} ${niveau.titre}${enigmesInfo}</div>
                    `;
                } else {
                    levelInfo = `<div class="player-name">${pseudo}</div>`;
                }

                const badges = getBadges(donnees, globalRank === 1, donnees.enigmes);
                const badgesHtml = badges.join(' ');

                html += `
                    <div class="${rowClass}">
                        <div class="rank ${rankClass}">${medal}</div>
                        <div class="avatar">${avatar}</div>
                        <div>${levelInfo}</div>
                        <div class="badges">${badgesHtml}</div>
                        <div class="score-value">${entry.score.toLocaleString()}</div>
                    </div>
                `;
            });

            document.getElementById('leaderboardContent').innerHTML = html || '<div class="loading">Aucun score</div>';
            
            // Afficher le bouton "Voir plus" si n√©cessaire
            renderLoadMoreButton();
            renderPagination();
        }

        function renderLoadMoreButton() {
            const loadMoreContainer = document.getElementById('loadMoreContainer');
            if (!loadMoreContainer) return;

            if (loadedCount < totalScores) {
                const remaining = totalScores - loadedCount;
                const nextLoad = Math.min(loadMoreIncrement, remaining);
                loadMoreContainer.innerHTML = `
                    <button id="loadMoreBtn" class="load-more-btn" onclick="window.loadMoreScores()">
                        üì• Charger ${nextLoad} scores suppl√©mentaires (${loadedCount.toLocaleString()} / ${totalScores.toLocaleString()})
                    </button>
                `;
            } else {
                loadMoreContainer.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #7f8c8d; font-size: 14px;">
                        ‚úÖ Tous les scores charg√©s (${loadedCount.toLocaleString()} / ${totalScores.toLocaleString()})
                    </div>
                `;
            }
        }

        function renderPagination() {
            const maxPossiblePages = Math.ceil(loadedCount / perPage);
            const totalPages = maxPossiblePages;
            let html = '';

            html += `<button class="page-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="window.goToPage(1)">¬´</button>`;
            html += `<button class="page-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="window.goToPage(${currentPage - 1})">‚Äπ</button>`;

            const range = 3;
            let start = Math.max(1, currentPage - range);
            let end = Math.min(totalPages, currentPage + range);

            if (start > 1) {
                html += `<button class="page-btn" onclick="window.goToPage(1)">1</button>`;
                if (start > 2) html += `<span class="page-btn" disabled>...</span>`;
            }

            for (let i = start; i <= end; i++) {
                html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="window.goToPage(${i})">${i}</button>`;
            }

            if (end < totalPages) {
                if (end < totalPages - 1) html += `<span class="page-btn" disabled>...</span>`;
                html += `<button class="page-btn" onclick="window.goToPage(${totalPages})">${totalPages}</button>`;
            }

            html += `<button class="page-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="window.goToPage(${currentPage + 1})">‚Ä∫</button>`;
            html += `<button class="page-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="window.goToPage(${totalPages})">¬ª</button>`;

            // Afficher info sur les scores charg√©s
            html += `<span style="margin-left: 15px; color: #7f8c8d; font-size: 13px;">${loadedCount.toLocaleString()} scores charg√©s</span>`;

            document.getElementById('pagination').innerHTML = html;
        }

        window.goToPage = function(page) {
            const maxPossiblePages = Math.ceil(loadedCount / perPage);
            if (page < 1 || page > maxPossiblePages) return;
            
            // Si on essaie d'aller sur une page non charg√©e, proposer de charger plus
            const neededScores = page * perPage;
            if (neededScores > loadedCount && loadedCount < totalScores) {
                if (confirm(`Vous devez charger plus de scores pour acc√©der √† cette page.\nCharger ${loadMoreIncrement} scores suppl√©mentaires ?`)) {
                    loadMoreScores().then(() => {
                        if (page <= Math.ceil(loadedCount / perPage)) {
                            currentPage = page;
                            renderPage();
                            document.querySelector('.leaderboard-section').scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                }
                return;
            }
            
            currentPage = page;
            renderPage();
            document.querySelector('.leaderboard-section').scrollIntoView({ behavior: 'smooth' });
        };

        window.loadMoreScores = loadMoreScores;

        // Recherche
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const search = e.target.value.toLowerCase();
            if (search && Array.isArray(allScores)) {
                const filtered = allScores.filter(entry => {
                    const pseudo = entry.users?.pseudo || entry.donnees_extra?.pseudo || '';
                    return pseudo.toLowerCase().includes(search);
                });
                
                let html = '';
                filtered.slice(0, 100).forEach((entry, index) => {
                    // Trouver le rang r√©el dans allScores
                    const globalRank = allScores.findIndex(s => s.id === entry.id) + 1;
                    const donnees = entry.donnees_extra || {};
                    const pseudo = entry.users?.pseudo || donnees.pseudo || 'Anonyme';
                    const avatar = entry.users?.avatar || donnees.avatar || 'üë§';
                    
                    let levelInfo = '';
                    if (donnees.sagesse) {
                        const niveau = getNiveauSagesse(donnees.sagesse);
                        const enigmesInfo = donnees.enigmes ? ` ‚Ä¢ ${donnees.enigmes}/18üß©` : '';
                        levelInfo = `
                            <div class="player-name">${pseudo}</div>
                            <div class="player-level">${niveau.icone} ${niveau.titre}${enigmesInfo}</div>
                        `;
                    } else {
                        levelInfo = `<div class="player-name">${pseudo}</div>`;
                    }

                    const badges = getBadges(donnees, globalRank === 1, donnees.enigmes);
                    const badgesHtml = badges.join(' ');

                    html += `
                        <div class="table-row">
                            <div class="rank">${globalRank}.</div>
                            <div class="avatar">${avatar}</div>
                            <div>${levelInfo}</div>
                            <div class="badges">${badgesHtml}</div>
                            <div class="score-value">${entry.score.toLocaleString()}</div>
                        </div>
                    `;
                });
                
                document.getElementById('leaderboardContent').innerHTML = html || '<div class="loading">Aucun r√©sultat</div>';
                document.getElementById('pagination').innerHTML = '';
            } else {
                renderPage();
            }
        });

        // Chargement initial
        loadScores();
    </script>

    <script>
        // Traductions multilingues
        const translations = {
            fr: {
                pageTitle: "Emmanuel Payet - Artiste Chr√©tien",
                subtitle: "Artiste Chr√©tien ‚Ä¢ Cr√©ateur ‚Ä¢ Inspirateur",
                gamesTitle: "Jeux & D√©co",
                gamesDesc: "D√©couvre mes cr√©ations visuelles, jeux interactifs et d√©corations artistiques qui c√©l√®brent la foi et la beaut√©.",
                booksTitle: "Livres & Art",
                booksDesc: "Plonge dans mes ≈ìuvres litt√©raires et artistiques, cr√©√©es avec ma fille B√©thanie, pour nourrir l'√¢me et l'esprit.",
                musicTitle: "Gospel Gratuit",
                musicDesc: "√âcoute mes compositions gospel sur AudioMack, des m√©lodies qui louent Dieu et inspirent l'unit√© dans la diversit√©.",
                shopTitle: "La Bonne Heure",
                shopDesc: "C'est maintenant ! D√©couvre ma boutique Redbubble avec des designs uniques et des cr√©ations inspirantes √† porter.",
                quote: "L'art chr√©tien unit les c≈ìurs au-del√† des diff√©rences, c√©l√©brant la beaut√© de la cr√©ation divine dans toute sa diversit√©.",
                credits: "Cod√© par Claude ‚Ä¢ Id√©e originale Emmanuel Payet"
            },
            en: {
                pageTitle: "Emmanuel Payet - Christian Artist",
                subtitle: "Christian Artist ‚Ä¢ Creator ‚Ä¢ Inspirator",
                gamesTitle: "Games & Deco",
                gamesDesc: "Discover my visual creations, interactive games and artistic decorations that celebrate faith and beauty.",
                booksTitle: "Books & Art",
                booksDesc: "Dive into my literary and artistic works, created with my daughter B√©thanie, to nourish the soul and spirit.",
                musicTitle: "Free Gospel",
                musicDesc: "Listen to my gospel compositions on AudioMack, melodies that praise God and inspire unity in diversity.",
                shopTitle: "The Good Time",
                shopDesc: "It's now! Discover my Redbubble shop with unique designs and inspiring creations to wear.",
                quote: "Christian art unites hearts beyond differences, celebrating the beauty of divine creation in all its diversity.",
                credits: "Coded by Claude ‚Ä¢ Original idea Emmanuel Payet"
            },
            es: {
                pageTitle: "Emmanuel Payet - Artista Cristiano",
                subtitle: "Artista Cristiano ‚Ä¢ Creador ‚Ä¢ Inspirador",
                gamesTitle: "Juegos y Decoraci√≥n",
                gamesDesc: "Descubre mis creaciones visuales, juegos interactivos y decoraciones art√≠sticas que celebran la fe y la belleza.",
                booksTitle: "Libros y Arte",
                booksDesc: "Sum√©rgete en mis obras literarias y art√≠sticas, creadas con mi hija B√©thanie, para nutrir el alma y el esp√≠ritu.",
                musicTitle: "Gospel Gratuito",
                musicDesc: "Escucha mis composiciones gospel en AudioMack, melod√≠as que alaban a Dios e inspiran unidad en la diversidad.",
                shopTitle: "El Buen Momento",
                shopDesc: "¬°Es ahora! Descubre mi tienda Redbubble con dise√±os √∫nicos y creaciones inspiradoras para llevar.",
                quote: "El arte cristiano une corazones m√°s all√° de las diferencias, celebrando la belleza de la creaci√≥n divina en toda su diversidad.",
                credits: "Programado por Claude ‚Ä¢ Idea original Emmanuel Payet"
            },
            de: {
                pageTitle: "Emmanuel Payet - Christlicher K√ºnstler",
                subtitle: "Christlicher K√ºnstler ‚Ä¢ Sch√∂pfer ‚Ä¢ Inspirator",
                gamesTitle: "Spiele & Deko",
                gamesDesc: "Entdecke meine visuellen Kreationen, interaktiven Spiele und k√ºnstlerischen Dekorationen, die Glaube und Sch√∂nheit feiern.",
                booksTitle: "B√ºcher & Kunst",
                booksDesc: "Tauche ein in meine literarischen und k√ºnstlerischen Werke, geschaffen mit meiner Tochter B√©thanie, um Seele und Geist zu n√§hren.",
                musicTitle: "Kostenloses Gospel",
                musicDesc: "H√∂re meine Gospel-Kompositionen auf AudioMack, Melodien, die Gott preisen und Einheit in Vielfalt inspirieren.",
                shopTitle: "Die Gute Zeit",
                shopDesc: "Es ist jetzt! Entdecke meinen Redbubble-Shop mit einzigartigen Designs und inspirierenden Kreationen zum Tragen.",
                quote: "Christliche Kunst vereint Herzen jenseits von Unterschieden und feiert die Sch√∂nheit der g√∂ttlichen Sch√∂pfung in all ihrer Vielfalt.",
                credits: "Programmiert von Claude ‚Ä¢ Originalidee Emmanuel Payet"
            },
            it: {
                pageTitle: "Emmanuel Payet - Artista Cristiano",
                subtitle: "Artista Cristiano ‚Ä¢ Creatore ‚Ä¢ Ispiratore",
                gamesTitle: "Giochi e Decorazioni",
                gamesDesc: "Scopri le mie creazioni visive, giochi interattivi e decorazioni artistiche che celebrano la fede e la bellezza.",
                booksTitle: "Libri e Arte",
                booksDesc: "Immergiti nelle mie opere letterarie e artistiche, create con mia figlia B√©thanie, per nutrire anima e spirito.",
                musicTitle: "Gospel Gratuito",
                musicDesc: "Ascolta le mie composizioni gospel su AudioMack, melodie che lodano Dio e ispirano unit√† nella diversit√†.",
                shopTitle: "Il Momento Giusto",
                shopDesc: "√à ora! Scopri il mio negozio Redbubble con design unici e creazioni ispiratrici da indossare.",
                quote: "L'arte cristiana unisce i cuori oltre le differenze, celebrando la bellezza della creazione divina in tutta la sua diversit√†.",
                credits: "Programmato da Claude ‚Ä¢ Idea originale Emmanuel Payet"
            },
            pt: {
                pageTitle: "Emmanuel Payet - Artista Crist√£o",
                subtitle: "Artista Crist√£o ‚Ä¢ Criador ‚Ä¢ Inspirador",
                gamesTitle: "Jogos e Decora√ß√£o",
                gamesDesc: "Descubra minhas cria√ß√µes visuais, jogos interativos e decora√ß√µes art√≠sticas que celebram a f√© e a beleza.",
                booksTitle: "Livros e Arte",
                booksDesc: "Mergulhe em minhas obras liter√°rias e art√≠sticas, criadas com minha filha B√©thanie, para nutrir alma e esp√≠rito.",
                musicTitle: "Gospel Gratuito",
                musicDesc: "Ou√ßa minhas composi√ß√µes gospel no AudioMack, melodias que louvam a Deus e inspiram unidade na diversidade.",
                shopTitle: "A Boa Hora",
                shopDesc: "√â agora! Descubra minha loja Redbubble com designs √∫nicos e cria√ß√µes inspiradoras para vestir.",
                quote: "A arte crist√£ une cora√ß√µes al√©m das diferen√ßas, celebrando a beleza da cria√ß√£o divina em toda sua diversidade.",
                credits: "Programado por Claude ‚Ä¢ Ideia original Emmanuel Payet"
            },
            ru: {
                pageTitle: "–≠–º–º–∞–Ω—É—ç–ª—å –ü–∞–π–µ - –•—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–∏–π –•—É–¥–æ–∂–Ω–∏–∫",
                subtitle: "–•—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–∏–π –•—É–¥–æ–∂–Ω–∏–∫ ‚Ä¢ –¢–≤–æ—Ä–µ—Ü ‚Ä¢ –í–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å",
                gamesTitle: "–ò–≥—Ä—ã –∏ –î–µ–∫–æ—Ä",
                gamesDesc: "–û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–≤–æ—Ä–µ–Ω–∏—è, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã –∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–∫—Ä–∞—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å–ª–∞–≤–ª—è—é—Ç –≤–µ—Ä—É –∏ –∫—Ä–∞—Å–æ—Ç—É.",
                booksTitle: "–ö–Ω–∏–≥–∏ –∏ –ò—Å–∫—É—Å—Å—Ç–≤–æ",
                booksDesc: "–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –º–æ–∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –º–æ–µ–π –¥–æ—á–µ—Ä—å—é –ë–µ—Ç–∞–Ω–∏, —á—Ç–æ–±—ã –ø–∏—Ç–∞—Ç—å –¥—É—à—É –∏ –¥—É—Ö.",
                musicTitle: "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ì–æ—Å–ø–µ–ª",
                musicDesc: "–°–ª—É—à–∞–π—Ç–µ –º–æ–∏ –≥–æ—Å–ø–µ–ª-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ AudioMack, –º–µ–ª–æ–¥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–∞–≤—è—Ç –ë–æ–≥–∞ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—Ç –µ–¥–∏–Ω—Å—Ç–≤–æ –≤ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–∏.",
                shopTitle: "–•–æ—Ä–æ—à–µ–µ –í—Ä–µ–º—è",
                shopDesc: "–°–µ–π—á–∞—Å! –û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–π –º–∞–≥–∞–∑–∏–Ω Redbubble —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–∏–∑–∞–π–Ω–∞–º–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–º–∏ —Ç–≤–æ—Ä–µ–Ω–∏—è–º–∏ –¥–ª—è –Ω–æ—à–µ–Ω–∏—è.",
                quote: "–•—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–µ—Ä–¥—Ü–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ä–∞–∑–ª–∏—á–∏–π, –ø—Ä–æ—Å–ª–∞–≤–ª—è—è –∫—Ä–∞—Å–æ—Ç—É –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–≤–æ—Ä–µ–Ω–∏—è –≤–æ –≤—Å–µ–º –µ–≥–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–∏.",
                credits: "–ó–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–æ Claude ‚Ä¢ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∏–¥–µ—è –≠–º–º–∞–Ω—É—ç–ª—å –ü–∞–π–µ"
            },
            zh: {
                pageTitle: "ËâæÊõºÁ∫Ω¬∑‰Ω©ËÄ∂ - Âü∫Áù£ÊïôËâ∫ÊúØÂÆ∂",
                subtitle: "Âü∫Áù£ÊïôËâ∫ÊúØÂÆ∂ ‚Ä¢ Âàõ‰ΩúËÄÖ ‚Ä¢ ÂêØÂèëËÄÖ",
                gamesTitle: "Ê∏∏Êàè‰∏éË£ÖÈ•∞",
                gamesDesc: "ÂèëÁé∞ÊàëÁöÑËßÜËßâÂàõ‰Ωú„ÄÅ‰∫íÂä®Ê∏∏ÊàèÂíåËâ∫ÊúØË£ÖÈ•∞ÔºåÂÆÉ‰ª¨È¢ÇÊâ¨‰ø°‰ª∞ÂíåÁæé‰∏Ω„ÄÇ",
                booksTitle: "‰π¶Á±ç‰∏éËâ∫ÊúØ",
                booksDesc: "Ê≤âÊµ∏Âú®Êàë‰∏éÂ•≥ÂÑøË¥ùÂ°îÂ¶ÆÂàõ‰ΩúÁöÑÊñáÂ≠¶ÂíåËâ∫ÊúØ‰ΩúÂìÅ‰∏≠ÔºåÊªãÂÖªÁÅµÈ≠ÇÂíåÁ≤æÁ•û„ÄÇ",
                musicTitle: "ÂÖçË¥πÁ¶èÈü≥Èü≥‰πê",
                musicDesc: "Âú®AudioMack‰∏äËÅÜÂê¨ÊàëÁöÑÁ¶èÈü≥‰ΩúÂìÅÔºåËøô‰∫õÊóãÂæãËµûÁæé‰∏äÂ∏ùÂπ∂ÊøÄÂä±Â§öÊ†∑ÊÄß‰∏≠ÁöÑÂõ¢Áªì„ÄÇ",
                shopTitle: "Â•ΩÊó∂ÂÖâ",
                shopDesc: "Â∞±ÊòØÁé∞Âú®ÔºÅÂèëÁé∞ÊàëÁöÑRedbubbleÂïÜÂ∫óÔºåÊã•ÊúâÁã¨ÁâπÁöÑËÆæËÆ°ÂíåÈºìËàû‰∫∫ÂøÉÁöÑÂàõ‰Ωú„ÄÇ",
                quote: "Âü∫Áù£ÊïôËâ∫ÊúØË∂ÖË∂äÂ∑ÆÂºÇËÅîÂêàÂøÉÁÅµÔºåÂú®ÂÖ∂Â§öÊ†∑ÊÄß‰∏≠Â∫ÜÁ•ùÁ•ûÂú£ÂàõÈÄ†ÁöÑÁæé‰∏Ω„ÄÇ",
                credits: "Áî±ClaudeÁºñÁ®ã ‚Ä¢ ÂéüÂàõÊÉ≥Ê≥ïËâæÊõºÁ∫Ω¬∑‰Ω©ËÄ∂"
            },
            ko: {
                pageTitle: "Ïó†ÎßàÎàÑÏóò ÌååÏòà - Í∏∞ÎèÖÍµê ÏòàÏà†Í∞Ä",
                subtitle: "Í∏∞ÎèÖÍµê ÏòàÏà†Í∞Ä ‚Ä¢ Ï∞ΩÏûëÏûê ‚Ä¢ ÏòÅÍ∞êÏûê",
                gamesTitle: "Í≤åÏûÑÍ≥º Ïû•Ïãù",
                gamesDesc: "Ïã†ÏïôÍ≥º ÏïÑÎ¶ÑÎã§ÏõÄÏùÑ Ï∞¨ÏñëÌïòÎäî ÎÇòÏùò ÏãúÍ∞ÅÏ†Å Ï∞ΩÏûëÎ¨º, Ïù∏ÌÑ∞ÎûôÌã∞Î∏å Í≤åÏûÑ, ÏòàÏà†Ï†Å Ïû•ÏãùÏùÑ Î∞úÍ≤¨ÌïòÏÑ∏Ïöî.",
                booksTitle: "Ï±ÖÍ≥º ÏòàÏà†",
                booksDesc: "Îî∏ Î≤†ÌÉÄÎãàÏôÄ Ìï®Íªò ÎßåÎì† ÎÇòÏùò Î¨∏ÌïôÏ†Å, ÏòàÏà†Ï†Å ÏûëÌíàÏóê Îπ†Ï†∏Îì§Ïñ¥ ÏòÅÌòºÍ≥º Ï†ïÏã†ÏùÑ Í∏∞Î•¥ÏÑ∏Ïöî.",
                musicTitle: "Î¨¥Î£å Í∞ÄÏä§Ìé†",
                musicDesc: "AudioMackÏóêÏÑú ÌïòÎÇòÎãòÏùÑ Ï∞¨ÏñëÌïòÍ≥† Îã§ÏñëÏÑ± ÏÜçÏùò ÏùºÏπòÎ•º ÏòÅÍ∞êÌïòÎäî ÎÇòÏùò Í∞ÄÏä§Ìé† ÏûëÌíàÏùÑ Îì§Ïñ¥Î≥¥ÏÑ∏Ïöî.",
                shopTitle: "Ï¢ãÏùÄ ÏãúÍ∞Ñ",
                shopDesc: "ÏßÄÍ∏àÏù¥ÏóêÏöî! ÎèÖÌäπÌïú ÎîîÏûêÏù∏Í≥º ÏòÅÍ∞êÏùÑ Ï£ºÎäî Ï∞ΩÏûëÎ¨ºÏùÑ Í∞ÄÏßÑ ÎÇòÏùò Redbubble ÏÉÅÏ†êÏùÑ Î∞úÍ≤¨ÌïòÏÑ∏Ïöî.",
                quote: "Í∏∞ÎèÖÍµê ÏòàÏà†ÏùÄ Ï∞®Ïù¥Î•º ÎÑòÏñ¥ ÎßàÏùåÏùÑ ÌïòÎÇòÎ°ú ÎßåÎì§Î©∞, Î™®Îì† Îã§ÏñëÏÑ± ÏÜçÏóêÏÑú Ïã†ÏÑ±Ìïú Ï∞ΩÏ°∞Ïùò ÏïÑÎ¶ÑÎã§ÏõÄÏùÑ Ï∞¨ÏñëÌï©ÎãàÎã§.",
                credits: "ClaudeÍ∞Ä ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç ‚Ä¢ ÏõêÏûë ÏïÑÏù¥ÎîîÏñ¥ Ïó†ÎßàÎàÑÏóò ÌååÏòà"
            },
            jp: {
                pageTitle: "„Ç®„Éû„Éã„É•„Ç®„É´„Éª„Éë„Ç§„Ç® - „Ç≠„É™„Çπ„ÉàÊïô„Ç¢„Éº„ÉÜ„Ç£„Çπ„Éà",
                subtitle: "„Ç≠„É™„Çπ„ÉàÊïô„Ç¢„Éº„ÉÜ„Ç£„Çπ„Éà ‚Ä¢ „ÇØ„É™„Ç®„Ç§„Çø„Éº ‚Ä¢ „Ç§„É≥„Çπ„Éî„É¨„Éº„Çø„Éº",
                gamesTitle: "„Ç≤„Éº„É†ÔºÜ„Éá„Ç≥„É¨„Éº„Ç∑„Éß„É≥",
                gamesDesc: "‰ø°‰ª∞„Å®Áæé„Åó„Åï„ÇíËÆÉ„Åà„ÇãÁßÅ„ÅÆ„Éì„Ç∏„É•„Ç¢„É´Ââµ‰Ωú„ÄÅ„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Ç≤„Éº„É†„ÄÅËä∏Ë°ìÁöÑË£ÖÈ£æ„ÇíÁô∫Ë¶ã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
                booksTitle: "Êõ∏Á±çÔºÜ„Ç¢„Éº„Éà",
                booksDesc: "Â®ò„Éô„Çø„Éã„Éº„Å®ÂÖ±„Å´Ââµ‰Ωú„Åó„ÅüÁßÅ„ÅÆÊñáÂ≠¶ÁöÑ„ÉªËä∏Ë°ìÁöÑ‰ΩúÂìÅ„Å´Êµ∏„Çä„ÄÅÈ≠Ç„Å®Á≤æÁ•û„ÇíÈ§ä„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
                musicTitle: "„Éï„É™„Éº„Ç¥„Çπ„Éö„É´",
                musicDesc: "AudioMack„ÅßÁ•û„ÇíËÆÉ„Åà„ÄÅÂ§öÊßòÊÄß„ÅÆ‰∏≠„ÅÆ‰∏ÄËá¥„ÇíÈºìËàû„Åô„ÇãÁßÅ„ÅÆ„Ç¥„Çπ„Éö„É´‰ΩúÂìÅ„ÇíËÅ¥„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
                shopTitle: "ËâØ„ÅÑÊôÇÈñì",
                shopDesc: "‰ªä„Åß„ÅôÔºÅ„É¶„Éã„Éº„ÇØ„Å™„Éá„Ç∂„Ç§„É≥„Å®ÊÑüÂãïÁöÑ„Å™Ââµ‰ΩúÁâ©„ÇíÊåÅ„Å§ÁßÅ„ÅÆRedbubble„Ç∑„Éß„ÉÉ„Éó„ÇíÁô∫Ë¶ã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
                quote: "„Ç≠„É™„Çπ„ÉàÊïôËä∏Ë°ì„ÅØÈÅï„ÅÑ„ÇíË∂Ö„Åà„Å¶ÂøÉ„ÇíÁµê„Å≥„ÄÅ„Åù„ÅÆÂ§öÊßòÊÄß„ÅÆ„Åô„Åπ„Å¶„Å´„Åä„ÅÑ„Å¶Á•ûËÅñ„Å™ÂâµÈÄ†„ÅÆÁæé„Åó„Åï„ÇíËÆÉ„Åà„Åæ„Åô„ÄÇ",
                credits: "Claude„Å´„Çà„Å£„Å¶„Éó„É≠„Ç∞„É©„É† ‚Ä¢ „Ç™„É™„Ç∏„Éä„É´„Ç¢„Ç§„Éá„Ç¢ „Ç®„Éû„Éã„É•„Ç®„É´„Éª„Éë„Ç§„Ç®"
            },
            ar: {
                pageTitle: "ÿ•ŸäŸÖÿßŸÜŸàŸäŸÑ ÿ®ÿßŸäŸäÿ™ - ŸÅŸÜÿßŸÜ ŸÖÿ≥Ÿäÿ≠Ÿä",
                subtitle: "ŸÅŸÜÿßŸÜ ŸÖÿ≥Ÿäÿ≠Ÿä ‚Ä¢ ŸÖÿ®ÿØÿπ ‚Ä¢ ŸÖŸÑŸáŸÖ",
                gamesTitle: "ÿßŸÑÿ£ŸÑÿπÿßÿ® ŸàÿßŸÑÿØŸäŸÉŸàÿ±",
                gamesDesc: "ÿßŸÉÿ™ÿ¥ŸÅ ÿ•ÿ®ÿØÿßÿπÿßÿ™Ÿä ÿßŸÑÿ®ÿµÿ±Ÿäÿ© ŸàÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑÿ™ŸÅÿßÿπŸÑŸäÿ© ŸàÿßŸÑÿ≤ÿÆÿßÿ±ŸÅ ÿßŸÑŸÅŸÜŸäÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ≠ÿ™ŸÅŸÑ ÿ®ÿßŸÑÿ•ŸäŸÖÿßŸÜ ŸàÿßŸÑÿ¨ŸÖÿßŸÑ.",
                booksTitle: "ÿßŸÑŸÉÿ™ÿ® ŸàÿßŸÑŸÅŸÜ",
                booksDesc: "ÿßŸÜÿ∫ŸÖÿ≥ ŸÅŸä ÿ£ÿπŸÖÿßŸÑŸä ÿßŸÑÿ£ÿØÿ®Ÿäÿ© ŸàÿßŸÑŸÅŸÜŸäÿ© ÿßŸÑŸÖÿµŸÜŸàÿπÿ© ŸÖÿπ ÿßÿ®ŸÜÿ™Ÿä ÿ®Ÿäÿ™ÿßŸÜŸä ŸÑÿ™ÿ∫ÿ∞Ÿäÿ© ÿßŸÑÿ±Ÿàÿ≠ ŸàÿßŸÑÿ±Ÿàÿ≠.",
                musicTitle: "ÿ•ŸÜÿ¨ŸäŸÑ ŸÖÿ¨ÿßŸÜŸä",
                musicDesc: "ÿßÿ≥ÿ™ŸÖÿπ ÿ•ŸÑŸâ ŸÖÿ§ŸÑŸÅÿßÿ™Ÿä ÿßŸÑÿ•ŸÜÿ¨ŸäŸÑŸäÿ© ÿπŸÑŸâ AudioMackÿå ÿ£ŸÑÿ≠ÿßŸÜ ÿ™ÿ≠ŸÖÿØ ÿßŸÑŸÑŸá Ÿàÿ™ŸÑŸáŸÖ ÿßŸÑŸàÿ≠ÿØÿ© ŸÅŸä ÿßŸÑÿ™ŸÜŸàÿπ.",
                shopTitle: "ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ¨ŸäÿØ",
                shopDesc: "ÿßŸÑÿ¢ŸÜ! ÿßŸÉÿ™ÿ¥ŸÅ ŸÖÿ™ÿ¨ÿ± Redbubble ÿßŸÑÿÆÿßÿµ ÿ®Ÿä ŸÖÿπ ÿ™ÿµÿßŸÖŸäŸÖ ŸÅÿ±ŸäÿØÿ© Ÿàÿ•ÿ®ÿØÿßÿπÿßÿ™ ŸÖŸÑŸáŸÖÿ© ŸÑŸÑÿßÿ±ÿ™ÿØÿßÿ°.",
                quote: "ÿßŸÑŸÅŸÜ ÿßŸÑŸÖÿ≥Ÿäÿ≠Ÿä ŸäŸàÿ≠ÿØ ÿßŸÑŸÇŸÑŸàÿ® ŸÖÿß Ÿàÿ±ÿßÿ° ÿßŸÑÿßÿÆÿ™ŸÑÿßŸÅÿßÿ™ÿå ŸÖÿ≠ÿ™ŸÅŸÑÿßŸã ÿ®ÿ¨ŸÖÿßŸÑ ÿßŸÑÿÆŸÑŸÇ ÿßŸÑÿ•ŸÑŸáŸä ŸÅŸä ŸÉŸÑ ÿ™ŸÜŸàÿπŸá.",
                credits: "ŸÖÿ®ÿ±ŸÖÿ¨ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© Claude ‚Ä¢ ÿßŸÑŸÅŸÉÿ±ÿ© ÿßŸÑÿ£ÿµŸÑŸäÿ© ÿ•ŸäŸÖÿßŸÜŸàŸäŸÑ ÿ®ÿßŸäŸäÿ™"
            },
            he: {
                pageTitle: "◊¢◊û◊†◊ï◊ê◊ú ◊§◊ê◊ô◊ô◊ò - ◊ê◊û◊ü ◊†◊ï◊¶◊®◊ô",
                subtitle: "◊ê◊û◊ü ◊†◊ï◊¶◊®◊ô ‚Ä¢ ◊ô◊ï◊¶◊® ‚Ä¢ ◊û◊¢◊ï◊®◊® ◊î◊©◊®◊ê◊î",
                gamesTitle: "◊û◊©◊ó◊ß◊ô◊ù ◊ï◊¢◊ô◊¶◊ï◊ë",
                gamesDesc: "◊í◊ú◊ï ◊ê◊™ ◊î◊ô◊¶◊ô◊®◊ï◊™ ◊î◊ó◊ñ◊ï◊™◊ô◊ï◊™ ◊©◊ú◊ô, ◊û◊©◊ó◊ß◊ô◊ù ◊ê◊ô◊†◊ò◊®◊ê◊ß◊ò◊ô◊ë◊ô◊ô◊ù ◊ï◊¢◊ô◊ò◊ï◊®◊ô◊ù ◊ê◊û◊†◊ï◊™◊ô◊ô◊ù ◊î◊ó◊ï◊í◊í◊ô◊ù ◊ê◊û◊ï◊†◊î ◊ï◊ô◊ï◊§◊ô.",
                booksTitle: "◊°◊§◊®◊ô◊ù ◊ï◊ê◊û◊†◊ï◊™",
                booksDesc: "◊¶◊ú◊ú◊ï ◊ë◊ô◊¶◊ô◊®◊ï◊™◊ô◊ô ◊î◊°◊§◊®◊ï◊™◊ô◊ï◊™ ◊ï◊î◊ê◊û◊†◊ï◊™◊ô◊ï◊™ ◊©◊†◊ï◊¶◊®◊ï ◊¢◊ù ◊ë◊™◊ô ◊ë◊™◊†◊ô◊î ◊õ◊ì◊ô ◊ú◊î◊ñ◊ô◊ü ◊†◊§◊© ◊ï◊®◊ï◊ó.",
                musicTitle: "◊í◊ï◊°◊§◊ú ◊ó◊ô◊†◊ù",
                musicDesc: "◊î◊ß◊©◊ô◊ë◊ï ◊ú◊ó◊ô◊ë◊ï◊®◊ô◊ô ◊î◊í◊ï◊°◊§◊ú ◊ë-AudioMack, ◊û◊†◊í◊ô◊†◊ï◊™ ◊î◊û◊î◊ú◊ú◊ï◊™ ◊ê◊™ ◊ê◊ú◊ï◊î◊ô◊ù ◊ï◊û◊¢◊ï◊®◊®◊ï◊™ ◊ê◊ó◊ì◊ï◊™ ◊ë◊í◊ô◊ï◊ï◊ü.",
                shopTitle: "◊î◊ñ◊û◊ü ◊î◊ò◊ï◊ë",
                shopDesc: "◊ñ◊î ◊¢◊õ◊©◊ô◊ï! ◊í◊ú◊ï ◊ê◊™ ◊ó◊†◊ï◊™ Redbubble ◊©◊ú◊ô ◊¢◊ù ◊¢◊ô◊¶◊ï◊ë◊ô◊ù ◊ô◊ô◊ó◊ï◊ì◊ô◊ô◊ù ◊ï◊ô◊¶◊ô◊®◊ï◊™ ◊û◊¢◊ï◊®◊®◊ï◊™ ◊î◊©◊®◊ê◊î ◊ú◊ú◊ë◊ô◊©◊î.",
                quote: "◊ê◊û◊†◊ï◊™ ◊†◊ï◊¶◊®◊ô◊™ ◊û◊ê◊ó◊ì◊™ ◊ú◊ë◊ë◊ï◊™ ◊û◊¢◊ë◊® ◊ú◊î◊ë◊ì◊ú◊ô◊ù, ◊ó◊ï◊í◊í◊™ ◊ê◊™ ◊ô◊ï◊§◊ô ◊î◊ë◊®◊ô◊ê◊î ◊î◊ê◊ú◊ï◊î◊ô◊™ ◊ë◊õ◊ú ◊î◊í◊ô◊ï◊ï◊ü ◊©◊ú◊î.",
                credits: "◊û◊™◊ï◊õ◊†◊™ ◊¢◊ú ◊ô◊ì◊ô Claude ‚Ä¢ ◊®◊¢◊ô◊ï◊ü ◊û◊ß◊ï◊®◊ô ◊¢◊û◊†◊ï◊ê◊ú ◊§◊ê◊ô◊ô◊ò"
            },
            uk: {
                pageTitle: "–ï–º–º–∞–Ω—É–µ–ª—å –ü–∞–π—î - –•—Ä–∏—Å—Ç–∏—è–Ω—Å—å–∫–∏–π –•—É–¥–æ–∂–Ω–∏–∫",
                subtitle: "–•—Ä–∏—Å—Ç–∏—è–Ω—Å—å–∫–∏–π –•—É–¥–æ–∂–Ω–∏–∫ ‚Ä¢ –¢–≤–æ—Ä–µ—Ü—å ‚Ä¢ –ù–∞—Ç—Ö–Ω–µ–Ω–Ω–∏–∫",
                gamesTitle: "–Ü–≥—Ä–∏ —Ç–∞ –î–µ–∫–æ—Ä",
                gamesDesc: "–í—ñ–¥–∫—Ä–∏–π—Ç–µ –º–æ—ó –≤—ñ–∑—É–∞–ª—å–Ω—ñ —Ç–≤–æ—Ä—ñ–Ω–Ω—è, —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ —ñ–≥—Ä–∏ —Ç–∞ —Ö—É–¥–æ–∂–Ω—ñ –ø—Ä–∏–∫—Ä–∞—Å–∏, —è–∫—ñ –ø—Ä–æ—Å–ª–∞–≤–ª—è—é—Ç—å –≤—ñ—Ä—É —Ç–∞ –∫—Ä–∞—Å—É.",
                booksTitle: "–ö–Ω–∏–≥–∏ —Ç–∞ –ú–∏—Å—Ç–µ—Ü—Ç–≤–æ",
                booksDesc: "–ü–æ—Ä–∏–Ω—Ç–µ –≤ –º–æ—ó –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ñ —Ç–∞ —Ö—É–¥–æ–∂–Ω—ñ —Ç–≤–æ—Ä–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ –º–æ—î—é –¥–æ—á–∫–æ—é –ë–µ—Ç–∞–Ω—ñ, —â–æ–± –∂–∏–≤–∏—Ç–∏ –¥—É—à—É —Ç–∞ –¥—É—Ö.",
                musicTitle: "–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ì–æ—Å–ø–µ–ª",
                musicDesc: "–°–ª—É—Ö–∞–π—Ç–µ –º–æ—ó –≥–æ—Å–ø–µ–ª-–∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó –Ω–∞ AudioMack, –º–µ–ª–æ–¥—ñ—ó, —è–∫—ñ —Å–ª–∞–≤–ª—è—Ç—å –ë–æ–≥–∞ —Ç–∞ –Ω–∞–¥–∏—Ö–∞—é—Ç—å —î–¥–Ω—ñ—Å—Ç—å —É —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—Å—Ç—ñ.",
                shopTitle: "–ì–∞—Ä–Ω–∏–π –ß–∞—Å",
                shopDesc: "–¶–µ –∑–∞—Ä–∞–∑! –í—ñ–¥–∫—Ä–∏–π—Ç–µ –º—ñ–π –º–∞–≥–∞–∑–∏–Ω Redbubble –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –¥–∏–∑–∞–π–Ω–∞–º–∏ —Ç–∞ –Ω–∞–¥–∏—Ö–∞—é—á–∏–º–∏ —Ç–≤–æ—Ä—ñ–Ω–Ω—è–º–∏ –¥–ª—è –Ω–æ—Å—ñ–Ω–Ω—è.",
                quote: "–•—Ä–∏—Å—Ç–∏—è–Ω—Å—å–∫–µ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ –æ–±'—î–¥–Ω—É—î —Å–µ—Ä—Ü—è –∑–∞ –º–µ–∂–∞–º–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç–µ–π, –ø—Ä–æ—Å–ª–∞–≤–ª—è—é—á–∏ –∫—Ä–∞—Å—É –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–≤–æ—Ä—ñ–Ω–Ω—è —É –≤—Å—å–æ–º—É –π–æ–≥–æ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç—Ç—ñ.",
                credits: "–ó–∞–ø—Ä–æ–≥—Ä–∞–º–æ–≤–∞–Ω–æ Claude ‚Ä¢ –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ —ñ–¥–µ—è –ï–º–º–∞–Ω—É–µ–ª—å –ü–∞–π—î"
            }
        };

        // Fonction pour d√©tecter la langue depuis l'URL ou le parent
        function detectLanguage() {
            // Essayer de r√©cup√©rer la langue depuis l'URL
            const urlParams = new URLSearchParams(window.location.search);
            let lang = urlParams.get('lang');
            
            // Si pas dans l'URL, essayer de r√©cup√©rer depuis le parent (le jeu)
            if (!lang && window.opener && window.opener.window && window.opener.window.i18n) {
                try {
                    lang = window.opener.window.i18n.getCurrentLanguage();
                } catch (e) {
                    console.log('Impossible de r√©cup√©rer la langue depuis le parent');
                }
            }
            
            // Si pas trouv√©, essayer localStorage
            if (!lang && localStorage.getItem('selectedLanguage')) {
                lang = localStorage.getItem('selectedLanguage');
            }
            
            // Par d√©faut fran√ßais
            return lang && translations[lang] ? lang : 'fr';
        }

        // Fonction pour appliquer la traduction
        function applyTranslation(lang) {
            const t = translations[lang];
            if (!t) return;

            document.getElementById('page-title').textContent = t.pageTitle;
            document.title = t.pageTitle;
            document.getElementById('subtitle').textContent = t.subtitle;
            document.getElementById('games-title').textContent = t.gamesTitle;
            document.getElementById('games-desc').textContent = t.gamesDesc;
            document.getElementById('books-title').textContent = t.booksTitle;
            document.getElementById('books-desc').textContent = t.booksDesc;
            document.getElementById('music-title').textContent = t.musicTitle;
            document.getElementById('music-desc').textContent = t.musicDesc;
            document.getElementById('shop-title').textContent = t.shopTitle;
            document.getElementById('shop-desc').textContent = t.shopDesc;
            document.getElementById('inspiring-quote').textContent = t.quote;
            document.getElementById('credits').textContent = t.credits;
            
            // Mettre √† jour l'attribut lang
            document.documentElement.lang = lang;
        }

        // Initialiser la langue au chargement
        window.addEventListener('load', () => {
            const currentLang = detectLanguage();
            applyTranslation(currentLang);
            console.log('üåç Module Emmanuel charg√© en:', currentLang);
        });

        // Animation au scroll pour les cartes
        const cards = document.querySelectorAll('.platform-card');
        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = `opacity 0.6s ease ${index * 0.2}s, transform 0.6s ease ${index * 0.2}s`;
            observer.observe(card);
        });

        // Animation des ic√¥nes au survol
        cards.forEach(card => {
            const icon = card.querySelector('.platform-icon');
            
            card.addEventListener('mouseenter', () => {
                icon.style.transform = 'rotateY(180deg)';
            });
            
            card.addEventListener('mouseleave', () => {
                icon.style.transform = 'rotateY(0deg)';
            });
            
            icon.style.transition = 'transform 0.6s ease';
        });
    </script>
</body>
</html>