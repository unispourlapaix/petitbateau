<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flying Birds Game Module</title>
    <style>
        /* ===========================================
           MODULE OISEAUX VOLANTS - INTEGRATION JEUX
           Par Dreamer Unisona pour Emmanuel Payet
           =========================================== */

        /* Variables globales du module */
        :root {
            --bird-scale: 1;
            --animation-speed: 1;
            --crow-color-primary: #1A1A1A;
            --crow-color-secondary: #2C2C2C;
            --crow-eye-color: #FF0000;
            --dove-color-primary: #FFFFFF;
            --dove-color-secondary: #F8F8FF;
            --dove-eye-color: #4169E1;
            --bat-color: #000000;
            --bat-eye-color: #FF0000;
        }

        /* Container principal transparent */
        .flying-birds-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: transparent;
            overflow: visible;
        }

        /* Base commune pour tous les oiseaux */
        .bird-entity {
            position: absolute;
            transform-origin: center center;
            transition: all 0.3s ease;
            pointer-events: auto;
            cursor: pointer;
            transform: scale(var(--bird-scale));
        }

        .bird-entity.hidden {
            opacity: 0;
            transform: scale(0) scale(var(--bird-scale));
        }

        .bird-entity.active {
            opacity: 1;
            transform: scale(1) scale(var(--bird-scale));
        }

        /* =====================================
           CORBEAU BADASS - ID: crow-badass
           ===================================== */
        #crow-badass {
            width: 45px;
            height: 30px;
            z-index: 10;
        }

        .crow-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--crow-color-primary), var(--crow-color-secondary));
            clip-path: polygon(10% 15%, 25% 0%, 75% 5%, 90% 25%, 95% 60%, 85% 90%, 15% 95%, 5% 70%);
            position: relative;
            animation: crow-wing-beat calc(0.15s / var(--animation-speed)) infinite alternate;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.6));
        }

        .crow-wing {
            position: absolute;
            width: 28px;
            height: 18px;
            background: linear-gradient(45deg, #4A4A4A, #2F2F2F, #1A1A1A);
            clip-path: polygon(0% 20%, 30% 0%, 70% 5%, 100% 30%, 90% 70%, 60% 100%, 20% 85%, 5% 50%);
            top: 5px;
            left: 2px;
            transform-origin: 85% 65%;
            animation: crow-wing-flap calc(0.15s / var(--animation-speed)) infinite alternate;
            z-index: 1;
            filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.5));
            border: 1px solid #666;
        }

        .crow-eye {
            position: absolute;
            width: 8px;
            height: 5px;
            background: linear-gradient(135deg, var(--crow-eye-color), #8B0000);
            clip-path: polygon(0% 40%, 30% 0%, 100% 20%, 80% 100%, 20% 80%);
            top: 9px;
            right: 8px;
            box-shadow: 0 0 6px rgba(255, 0, 0, 0.8);
            animation: crow-eye-glow calc(1.5s / var(--animation-speed)) infinite;
        }

        .crow-scar {
            position: absolute;
            width: 2px;
            height: 8px;
            background: linear-gradient(180deg, #666, #999);
            top: 4px;
            right: 12px;
            transform: rotate(20deg);
            border-radius: 1px;
            box-shadow: 0 0 2px rgba(255, 255, 255, 0.3);
        }

        .crow-beak {
            position: absolute;
            top: 12px;
            right: -8px;
            width: 0;
            height: 0;
            border-left: 12px solid #FFD700;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.4));
        }

        /* =====================================
           COLOMBE ÉLÉGANTE - ID: dove-elegant
           ===================================== */
        #dove-elegant {
            width: 40px;
            height: 25px;
            z-index: 10;
        }

        .dove-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--dove-color-primary), var(--dove-color-secondary), #E6E6FA);
            clip-path: polygon(15% 10%, 40% 0%, 85% 8%, 95% 35%, 90% 65%, 75% 90%, 25% 95%, 5% 60%, 10% 30%);
            position: relative;
            animation: dove-wing-beat calc(0.4s / var(--animation-speed)) infinite alternate ease-in-out;
            filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.15));
            box-shadow: inset 0 1px 3px rgba(230, 230, 250, 0.5);
        }

        .dove-wing {
            position: absolute;
            width: 30px;
            height: 12px;
            background: linear-gradient(45deg, #F8F8FF, #E6E6FA, #D6D6EA);
            clip-path: polygon(0% 30%, 25% 0%, 60% 5%, 85% 15%, 100% 40%, 95% 70%, 75% 100%, 40% 95%, 15% 85%, 5% 60%);
            top: 6px;
            left: 6px;
            transform-origin: 85% 50%;
            animation: dove-wing-flap calc(0.4s / var(--animation-speed)) infinite alternate;
            z-index: 1;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.2));
            border: 1px solid rgba(230, 230, 250, 0.6);
        }

        .dove-eye {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle at 30% 30%, #87CEEB, var(--dove-eye-color));
            clip-path: polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%);
            top: 8px;
            right: 8px;
            box-shadow: 0 0 4px rgba(65, 105, 225, 0.4);
            animation: dove-eye-sparkle calc(3s / var(--animation-speed)) infinite;
        }

        .dove-beak {
            position: absolute;
            top: 10px;
            right: -6px;
            width: 0;
            height: 0;
            border-left: 8px solid #FFA500;
            border-top: 3px solid transparent;
            border-bottom: 3px solid transparent;
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
        }

        /* =====================================
           BATMAN - ID: batman-shadow
           ===================================== */
        #batman-shadow {
            width: 52px;
            height: 26px;
            z-index: 10;
        }

        .bat-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bat-color), #1A1A1A, var(--bat-color));
            clip-path: polygon(50% 0%, 65% 12%, 85% 8%, 100% 25%, 95% 45%, 85% 65%, 75% 100%, 50% 85%, 25% 100%, 15% 65%, 5% 45%, 0% 25%, 15% 8%, 35% 12%);
            position: relative;
            animation: bat-hover calc(0.1s / var(--animation-speed)) infinite alternate;
            filter: drop-shadow(0 0 15px rgba(0, 0, 0, 0.9));
            border: 1px solid #333;
        }

        .bat-eye-left {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, var(--bat-eye-color), #8B0000);
            border-radius: 50%;
            top: 8px;
            left: 18px;
            box-shadow: 0 0 8px rgba(255, 0, 0, 1);
            animation: bat-eye-pulse calc(1.2s / var(--animation-speed)) infinite;
            z-index: 2;
        }

        .bat-eye-right {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, var(--bat-eye-color), #8B0000);
            border-radius: 50%;
            top: 8px;
            left: 30px;
            box-shadow: 0 0 8px rgba(255, 0, 0, 1);
            animation: bat-eye-pulse calc(1.2s / var(--animation-speed)) infinite 0.1s;
            z-index: 2;
        }

        /* =====================================
           ANIMATIONS
           ===================================== */
        @keyframes crow-wing-beat {
            0% {
                filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.6)) brightness(1);
                transform: rotate(0deg);
            }
            100% {
                filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.8)) brightness(1.1);
                transform: rotate(1deg);
            }
        }

        @keyframes crow-wing-flap {
            0% {
                transform: rotateY(0deg) rotateZ(-15deg) scaleX(1);
            }
            100% {
                transform: rotateY(-20deg) rotateZ(10deg) scaleX(1.1);
            }
        }

        @keyframes crow-eye-glow {
            0%, 100% {
                box-shadow: 0 0 6px rgba(255, 0, 0, 0.8);
                filter: brightness(1);
            }
            50% {
                box-shadow: 0 0 12px rgba(255, 0, 0, 1);
                filter: brightness(1.3);
            }
        }

        @keyframes dove-wing-beat {
            0% {
                filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.15));
                transform: rotateY(0deg);
            }
            100% {
                filter: drop-shadow(0 5px 12px rgba(0, 0, 0, 0.2));
                transform: rotateY(-5deg);
            }
        }

        @keyframes dove-wing-flap {
            0% {
                transform: rotateY(0deg) rotateZ(-8deg) translateX(0px);
            }
            100% {
                transform: rotateY(-12deg) rotateZ(5deg) translateX(1px);
            }
        }

        @keyframes dove-eye-sparkle {
            0%, 100% {
                box-shadow: 0 0 4px rgba(65, 105, 225, 0.4);
                filter: brightness(1);
            }
            50% {
                box-shadow: 0 0 8px rgba(135, 206, 235, 0.8);
                filter: brightness(1.2);
            }
        }

        @keyframes bat-hover {
            0% {
                transform: translateY(0px) scale(1);
                filter: drop-shadow(0 0 15px rgba(0, 0, 0, 0.9));
            }
            100% {
                transform: translateY(-3px) scale(1.03);
                filter: drop-shadow(0 0 20px rgba(0, 0, 0, 1));
            }
        }

        @keyframes bat-eye-pulse {
            0%, 100% {
                box-shadow: 0 0 8px rgba(255, 0, 0, 1);
                transform: scale(1);
                opacity: 1;
            }
            50% {
                box-shadow: 0 0 15px rgba(255, 0, 0, 1);
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        /* =====================================
           CLASSES UTILITAIRES
           ===================================== */
        .bird-flip-horizontal {
            transform: scaleX(-1) scale(var(--bird-scale));
        }

        .bird-fly-right {
            animation: fly-motion-right 2s infinite ease-in-out;
        }

        .bird-fly-left {
            animation: fly-motion-left 2s infinite ease-in-out;
        }

        @keyframes fly-motion-right {
            0%, 100% { transform: translateY(0px) scale(var(--bird-scale)); }
            25% { transform: translateY(-8px) scale(var(--bird-scale)); }
            75% { transform: translateY(-12px) scale(var(--bird-scale)); }
        }

        @keyframes fly-motion-left {
            0%, 100% { transform: scaleX(-1) translateY(0px) scale(var(--bird-scale)); }
            25% { transform: scaleX(-1) translateY(-10px) scale(var(--bird-scale)); }
            75% { transform: scaleX(-1) translateY(-6px) scale(var(--bird-scale)); }
        }

        /* Responsive scaling */
        @media (max-width: 768px) {
            :root {
                --bird-scale: 0.8;
            }
        }

        @media (max-width: 480px) {
            :root {
                --bird-scale: 0.6;
            }
        }
    </style>
</head>
<body>
    <!-- ===============================================
         MODULE OISEAUX VOLANTS - STRUCTURE HTML
         =============================================== -->

    <div class="flying-birds-container" id="flying-birds-game">

        <!-- CORBEAU BADASS -->
        <div class="bird-entity active" id="crow-badass">
            <div class="crow-body">
                <div class="crow-wing"></div>
                <div class="crow-eye"></div>
                <div class="crow-scar"></div>
                <div class="crow-beak"></div>
            </div>
        </div>

        <!-- COLOMBE ÉLÉGANTE -->
        <div class="bird-entity hidden" id="dove-elegant">
            <div class="dove-body">
                <div class="dove-wing"></div>
                <div class="dove-eye"></div>
                <div class="dove-beak"></div>
            </div>
        </div>

        <!-- BATMAN -->
        <div class="bird-entity hidden" id="batman-shadow">
            <div class="bat-body">
                <div class="bat-eye-left"></div>
                <div class="bat-eye-right"></div>
            </div>
        </div>

    </div>

    <script>
        /**
         * ===============================================
         * MODULE FLYING BIRDS - API JAVASCRIPT
         * Par Dreamer Unisona pour Emmanuel Payet
         * ===============================================
         */

        class FlyingBirdsModule {
            constructor(containerId = 'flying-birds-game') {
                this.container = document.getElementById(containerId);
                this.birds = {
                    crow: document.getElementById('crow-badass'),
                    dove: document.getElementById('dove-elegant'),
                    batman: document.getElementById('batman-shadow')
                };
                this.currentBird = 'crow';
                this.isInitialized = false;

                this.init();
            }

            init() {
                if (!this.container) {
                    console.error('Flying Birds Module: Container not found');
                    return;
                }
                this.isInitialized = true;
                console.log('Flying Birds Module: Initialized successfully');
            }

            // API publique pour l'intégration dans des jeux
            showBird(birdId) {
                if (!this.isInitialized) return false;

                // Masquer tous les oiseaux
                Object.values(this.birds).forEach(bird => {
                    if (bird) {
                        bird.classList.remove('active');
                        bird.classList.add('hidden');
                    }
                });

                // Afficher l'oiseau demandé
                if (this.birds[birdId]) {
                    this.birds[birdId].classList.remove('hidden');
                    this.birds[birdId].classList.add('active');
                    this.currentBird = birdId;
                    return true;
                }
                return false;
            }

            hideBird(birdId) {
                if (!this.isInitialized) return false;

                if (this.birds[birdId]) {
                    this.birds[birdId].classList.remove('active');
                    this.birds[birdId].classList.add('hidden');
                    return true;
                }
                return false;
            }

            setBirdPosition(birdId, x, y) {
                if (!this.isInitialized) return false;

                if (this.birds[birdId]) {
                    this.birds[birdId].style.left = x + 'px';
                    this.birds[birdId].style.top = y + 'px';
                    return true;
                }
                return false;
            }

            setBirdDirection(birdId, direction) {
                if (!this.isInitialized) return false;

                if (this.birds[birdId]) {
                    this.birds[birdId].classList.remove('bird-fly-left', 'bird-fly-right', 'bird-flip-horizontal');

                    if (direction === 'left') {
                        this.birds[birdId].classList.add('bird-fly-left');
                    } else if (direction === 'right') {
                        this.birds[birdId].classList.add('bird-fly-right');
                    }
                    return true;
                }
                return false;
            }

            setBirdScale(scale) {
                document.documentElement.style.setProperty('--bird-scale', scale);
            }

            setAnimationSpeed(speed) {
                document.documentElement.style.setProperty('--animation-speed', speed);
            }

            getCurrentBird() {
                return this.currentBird;
            }

            getBirdElement(birdId) {
                return this.birds[birdId] || null;
            }

            // Événements personnalisés pour l'intégration
            onBirdClick(callback) {
                if (!this.isInitialized) return false;

                Object.entries(this.birds).forEach(([id, bird]) => {
                    if (bird) {
                        bird.addEventListener('click', () => callback(id, bird));
                    }
                });
                return true;
            }
        }

        // Export global pour intégration facile
        window.FlyingBirdsModule = FlyingBirdsModule;

        // Auto-initialisation
        document.addEventListener('DOMContentLoaded', function() {
            window.flyingBirds = new FlyingBirdsModule();

            // Exemple d'utilisation
            console.log('Flying Birds Module ready!');
            console.log('Usage: window.flyingBirds.showBird("dove")');
            console.log('Available birds: crow, dove, batman');
        });
    </script>
</body>
</html>