<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Qu√™te de V√©rit√© - Simple</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 30%, #16213e 70%, #0f0f23 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #2d3436;
            overflow: hidden;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 16px 20px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }

        .title {
            font-size: 18px;
            font-weight: 700;
            color: #2d3436;
        }

        .subtitle {
            font-size: 12px;
            color: #636e72;
            margin-top: 4px;
        }

        .game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        #canvas {
            border-radius: 16px;
            background: #111;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border: 1px solid rgba(0,255,255,0.3);
            max-width: calc(100vw - 40px);
            max-height: calc(100vh - 120px);
        }

        .stats {
            position: fixed;
            top: 70px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 8px 12px;
            font-size: 12px;
            font-weight: 600;
            z-index: 50;
        }

        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            max-width: calc(100vw - 40px);
            text-align: center;
            z-index: 200;
            display: none;
        }

        .message.show {
            display: block;
        }

        .message-button {
            background: linear-gradient(135deg, #74b9ff, #a29bfe);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="title">La Qu√™te de V√©rit√©</div>
        <div class="subtitle">Version Simple - Test</div>
    </header>

    <div class="stats">
        <div>üòá Niv. 1</div>
        <div>‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <div>üè∞ 0/10</div>
    </div>

    <div class="game-container">
        <canvas id="canvas"></canvas>
    </div>

    <div id="message" class="message">
        <div>Jeu Simple Fonctionnel !</div>
        <button class="message-button" onclick="hideMessage()">Commencer</button>
    </div>

    <script>
        console.log('üöÄ D√©marrage du jeu simple...');
        
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const message = document.getElementById('message');
        
        // Configuration canvas
        function setupCanvas() {
            const maxWidth = window.innerWidth - 40;
            const maxHeight = window.innerHeight - 140;
            
            let width = Math.min(maxWidth, 800);
            let height = Math.min(maxHeight, 600);
            
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            
            const dpr = window.devicePixelRatio || 1;
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            
            ctx.scale(dpr, dpr);
            console.log('‚úÖ Canvas configur√©:', width + 'x' + height);
        }
        
        // Jeu simple
        const game = {
            width: 0,
            height: 0,
            time: 0,
            orb: { x: 0, y: 0, vx: 2, vy: 1.5 },
            buildings: []
        };
        
        // Initialiser le jeu
        function initGame() {
            game.width = canvas.offsetWidth;
            game.height = canvas.offsetHeight;
            game.orb.x = game.width / 2;
            game.orb.y = game.height / 2;
            
            // Cr√©er quelques b√¢timents
            for (let i = 0; i < 8; i++) {
                game.buildings.push({
                    x: Math.random() * (game.width - 60),
                    y: Math.random() * (game.height - 60),
                    width: 40 + Math.random() * 40,
                    height: 30 + Math.random() * 50,
                    illuminated: false,
                    type: Math.floor(Math.random() * 3)
                });
            }
            
            console.log('‚úÖ Jeu initialis√©');
        }
        
        // Dessiner le fond futuriste
        function drawBackground() {
            // Fond d√©grad√©
            const gradient = ctx.createLinearGradient(0, 0, 0, game.height);
            gradient.addColorStop(0, '#0a0a0a');
            gradient.addColorStop(0.3, '#1a1a2e');
            gradient.addColorStop(0.7, '#16213e');
            gradient.addColorStop(1, '#0f0f23');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, game.width, game.height);
            
            // Grille futuriste
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.1)';
            ctx.lineWidth = 1;
            
            const gridSize = 50;
            for (let x = 0; x < game.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, game.height);
                ctx.stroke();
            }
            
            for (let y = 0; y < game.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(game.width, y);
                ctx.stroke();
            }
        }
        
        // Dessiner l'orbe lanterne
        function drawOrb() {
            const { x, y } = game.orb;
            
            // Corps de la lanterne
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(x - 15, y - 20, 30, 40);
            
            // Verre lumineux
            ctx.fillStyle = game.time % 100 < 50 ? '#FFD700' : '#FFA500';
            ctx.fillRect(x - 12, y - 15, 24, 30);
            
            // Cha√Æne
            ctx.strokeStyle = '#8B4513';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(x, y - 20);
            ctx.lineTo(x, y - 30);
            ctx.stroke();
            
            // √âmoji
            ctx.font = '20px serif';
            ctx.textAlign = 'center';
            ctx.fillStyle = '#000';
            ctx.fillText('üèÆ', x, y + 5);
        }
        
        // Dessiner les b√¢timents
        function drawBuildings() {
            game.buildings.forEach(building => {
                const { x, y, width, height, illuminated, type } = building;
                
                // Couleur de base
                const baseColor = illuminated ? '#00FFFF' : '#333366';
                const accentColor = illuminated ? '#FFFF00' : '#666699';
                
                ctx.fillStyle = baseColor;
                ctx.fillRect(x, y, width, height);
                
                // Bordures
                ctx.strokeStyle = accentColor;
                ctx.lineWidth = 2;
                ctx.strokeRect(x, y, width, height);
                
                // Effets selon le type
                if (type === 0) {
                    // Tour
                    ctx.fillStyle = accentColor;
                    ctx.fillRect(x + width/4, y - height/4, width/2, height/2);
                } else if (type === 1) {
                    // Ch√¢teau
                    ctx.fillStyle = accentColor;
                    ctx.fillRect(x - 5, y, 10, height);
                    ctx.fillRect(x + width - 5, y, 10, height);
                } else {
                    // Portal
                    ctx.strokeStyle = accentColor;
                    ctx.lineWidth = 4;
                    ctx.beginPath();
                    ctx.arc(x + width/2, y + height/2, width/3, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                if (illuminated) {
                    // Effet de lumi√®re
                    ctx.fillStyle = 'rgba(255, 255, 0, 0.3)';
                    ctx.fillRect(x - 10, y - 10, width + 20, height + 20);
                }
            });
        }
        
        // Mettre √† jour le jeu
        function update() {
            game.time++;
            
            // Mouvement de l'orbe
            game.orb.x += game.orb.vx;
            game.orb.y += game.orb.vy;
            
            // Rebonds sur les bords
            if (game.orb.x <= 15 || game.orb.x >= game.width - 15) {
                game.orb.vx = -game.orb.vx;
            }
            if (game.orb.y <= 20 || game.orb.y >= game.height - 20) {
                game.orb.vy = -game.orb.vy;
            }
            
            // Collision avec les b√¢timents
            game.buildings.forEach(building => {
                if (!building.illuminated &&
                    game.orb.x > building.x - 15 &&
                    game.orb.x < building.x + building.width + 15 &&
                    game.orb.y > building.y - 15 &&
                    game.orb.y < building.y + building.height + 15) {
                    
                    building.illuminated = true;
                    console.log('üåü B√¢timent illumin√© !');
                }
            });
        }
        
        // Boucle de rendu
        function gameLoop() {
            update();
            
            drawBackground();
            drawBuildings();
            drawOrb();
            
            requestAnimationFrame(gameLoop);
        }
        
        // Cacher le message
        function hideMessage() {
            message.classList.remove('show');
        }
        
        // D√©marrage
        setupCanvas();
        initGame();
        
        // Afficher le message initial
        setTimeout(() => {
            message.classList.add('show');
        }, 500);
        
        // D√©marrer le jeu apr√®s le premier clic
        document.addEventListener('click', () => {
            if (!game.running) {
                game.running = true;
                gameLoop();
                console.log('‚úÖ Jeu d√©marr√© !');
            }
        }, { once: true });
        
        // Redimensionnement
        window.addEventListener('resize', () => {
            setupCanvas();
            initGame();
        });
        
        console.log('‚úÖ Jeu simple charg√© avec succ√®s !');
    </script>
</body>
</html>